{"version":3,"sources":["Store/reducers/snackbar.js","Store/reducers/auth.js","Store/reducers/Cart.js","Store/reducers/Dish.js","Store/reducers/Bill.js","Store/reducers/Settings.js","Store/reducers/index.js","Store/index.js","Store/actions/snackbar.js","Enhancements/SnackBar.js","Services/AuthService.js","Layout/Drawer/index.js","Enhancements/LoadingButton.js","Services/API.js","Services/ErrorHandler.js","Store/actions/auth.js","Layout/Auth/Login/index.js","Layout/Auth/Register/index.js","Layout/Auth/index.js","Enhancements/ProtectedRoute.js","Store/actions/Dish.js","Layout/Menu/Card.js","Layout/Menu/VerticalNav.js","Layout/Menu/Modals/ConfirmServing.js","Store/actions/Cart.js","Store/actions/Settings.js","Enhancements/Loading.js","Layout/Menu/index.js","Layout/Cart/index.js","Store/actions/Bills.js","Layout/Home/index.js","Layout/Bill/BillItems.js","Enhancements/SelectMenu.js","Layout/Bill/Print.js","Layout/Bill/index.js","Layout/PreviousBill/ViewBillModal.js","Layout/PreviousBill/index.js","Layout/index.js","App.js","serviceWorker.js","index.js"],"names":["SnackbarReducer","state","arguments","length","undefined","initialState","Snackbar","action","type","Object","objectSpread","open","message","AuthReducer","Auth","error","isChecking","username","data","token","isLoggedIn","CartReducer","Cart","items","concat","toConsumableArray","filter","item","id","DishReducer","Dish","isFetching","BillsReducer","Bills","isFetchingSpecific","billItems","deleteRequest","errorDeleting","successDeleting","SettingsReducer","Settings","autoRefreshBills","renderImages","duration","errorMessage","reducers","combineReducers","localStorageMiddleware","_ref","getState","next","result","localStorage","setItem","JSON","stringify","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedStore","getItem","parse","err","console","log","configureStore","createStore","app","applyMiddleware","snackbarSuccess","snackbarError","snackbarInfo","variantIcon","success","react_default","a","createElement","CheckCircle","warning","Warning","esm_Error","info","Info","useStyles","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","marginRight","spacing","iconVariant","opacity","display","alignItems","MySnackbarContentWrapper","props","classes","variant","SnackbarContent","className","aria-describedby","IconButton","key","aria-label","color","onClick","onClose","Close","connect","dispatch","handleClose","anchorOrigin","vertical","horizontal","autoHideDuration","SnackBar_MySnackbarContentWrapper","auth","logUserIn","location","process","logOut","removeItem","getToken","getUsername","navigation","label","path","Home","Restaurant","FolderSpecial","AttachMoney","ShoppingCart","root","width","bottom","position","appBar","innerWidth","marginLeft","drawer","flexShrink","drawerPaper","fill","toolbar","mixins","content","flexGrow","background","default","padding","link","textDecoration","contain","headerText","flex","Nav","_useState","useState","activeIndex","_useState2","slicedToArray","setActiveIndex","List","map","index","react_router_dom","to","ListItem","button","selected","ListItemIcon","Icon","component","ListItemText","DishesCart","Badge","badgeContent","ShoppingCart_default","PermanentDrawerLeft","_useState3","_useState4","drawerOpen","setDrawerOpen","forEach","href","indexOf","AppBar","Toolbar","Menu_default","Typography","noWrap","SwipeableDrawer","onOpen","paper","anchor","Divider","AuthService","Fragment","Person_default","reload","ExitToApp_default","Home_default","children","wrapper","justifyContent","buttonProgress","_Button","isLoading","objectWithoutProperties","Button","assign","disabled","CircularProgress","size","BACKEND_URL","fetchAPI","endpoint","payload","headers","method","axiosConfig","Authorization","toLowerCase","params","axios","ExtractErrorMessage","response","errors","PAGE","initiateLogin","loggedIn","initiateRegister","styles","& > *","marginTop","marginBottom","login","then","res","Error","catch","ErrorHandler","setUsername","password","setPassword","Grid","container","justify","Paper","onSubmit","e","preventDefault","FormControl","fullWidth","TextField","name","value","onChange","target","register","_useState5","_useState6","setLocation","Logout","react_router","withRouter","match","auth_action","Login","Register","Auth_Logout","PrivateRoute","Component","rest","render","pathname","from","groupDishes","i","category_id","push","processed","heading","initDishFetch","page","requestSuccess","requestFailure","media","height","MediaCard","Card","card","CardActionArea","CardMedia","image","title","img","CardContent","gutterBottom","description","substr","CardActions","addClick","Add_default","TabPanel","other","role","hidden","aria-labelledby","Box","p","flexDirection","tabs","borderRight","divider","paddingTop","minWidth","margin","panel","overflow","&> div","list","boxShadow","shadows","borderRadius","switchContainer","paddingRight","ImagesSwitch","xs","refreshMenu","Refresh_default","Tooltip","Switch","checked","RenderDishDetails","dishes","dish","sm","deleteClick","Fastfood_default","secondary","ListItemSecondaryAction","React","memo","_React$useState","_React$useState2","setValue","Tabs","orientation","event","newValue","group","Tab","aria-controls","a11yProps","VerticalNav_ImagesSwitch","flipRender","RadioGroupCustom","FormLabel","RadioGroup","sizeChange","serving","t","FormControlLabel","control","Radio","price","labelPlacement","FormHelperText","ConfirmServing","setSize","_React$useState3","_React$useState4","quantity","setQuantity","Dialog","DialogTitle","DialogContent","DialogContentText","ConfirmServing_RadioGroupCustom","DialogActions","handleSubmit","addItem","Loading","AllDishes","modal","componentDidMount","_this","fetchDishes","groupIndex","j","setState","prevState","handleConfirmClose","handleConfirmationSubmit","Date","getTime","_id","switchChange","style","minHeight","VerticalNav","flipRenderImages","handleQuantityChange","onServingSizeChange","API","buttonHolder","makeText","labelId","RestaurantMenu_default","confirm","Close_default","fetchBills","initRequest","requestFail","specificBillFetched","initRequestSpecific","requestFailSpecific","initBillDelete","successBillDelete","errorBillDelete","RenderBillsCard","subheader","ListSubheader","Kitchen_default","bill","count","AttachMoney_default","amount","tax","RenderOrderItemsCountCard","category","mockCategory","Bill","useEffect","bills","obj","categories","transformData","md","Home_RenderBillsCard","Home_RenderOrderItemsCountCard","GenerateBody","TableBody","body","row","TableRow","TableCell","align","GenerateHead","TableHead","head","Row","SelectMenu","options","Select","option","MenuItem","Body","PrintPage","this","address","billId","Table","BillItems_GenerateHead","_classes","Print_Body","Bill_AmountSection","rows","bye","time","toLocaleDateString","toLocaleTimeString","withStyles","_billId","fontWeight","textTransform","wordSpacing","textAlign","paddingBottom","defineProperty","maxWidth","table","AmountSection","BillItems_Row","PaymentMethod","setOptions","emptyCart","msg","snackbarWarning","setBillId","billRequest","setBillRequest","donation","setDonation","_useState7","_useState8","discount","setDiscount","_useState9","_useState10","paymentMethod","setPaymentMethod","total","isNaN","Math","round","calculateTotal","parseInt","printBillRef","useRef","BillItems_GenerateBody","autoFocus","InputProps","startAdornment","InputAdornment","paymentId","document","querySelector","click","history","submitBill","lib_default","trigger","current","Print","ref","dishDetails","Item","dish_name","ViewBillModal","loading","ViewBillModal_Item","ViewBillModal_Row","settingsContainer","BillsLists","hover","editBill","Edit_default","SettingsSection","refreshRequest","autoRefresh","fetchSpecific","deleteBill","callback","flipBillAutoRefresh","setModal","successDelete","item_id","timeParts","created_at","split","meridian","PreviousBill_SettingsSection","PreviousBill_BillsLists","Layout","ProtectedRoute","Menu","PreviousBill","exact","store","App","es","CssBaseline","Enhancements_SnackBar","src_Layout","Boolean","hostname","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c7ece802.chunk.js","sourcesContent":["import { initialState } from './index'\r\n\r\nconst SnackbarReducer = (state = initialState.Snackbar, action) => {\r\n  switch(action.type){\r\n    case 'SNACKBAR::SUCCESS':\r\n      return {\r\n        ...state,\r\n        open: true,\r\n        message: action.message,\r\n        type: 'success'\r\n      }\r\n    case 'SNACKBAR::ERROR':\r\n      return {\r\n        ...state,\r\n        open: true,\r\n        message: action.message,\r\n        type: 'error'\r\n      }\r\n    case 'SNACKBAR::WARNING':\r\n      return {\r\n        ...state,\r\n        open: true,\r\n        message: action.message,\r\n        type: 'warning'\r\n      }\r\n    case 'SNACKBAR::INFO':\r\n      return {\r\n        ...state,\r\n        open: true,\r\n        message: action.message,\r\n        type: 'info'\r\n      }\r\n    case 'SNACKBAR::CLOSE':\r\n      return {\r\n        ...state,\r\n        open: false,\r\n        message: ''\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default SnackbarReducer","import { initialState } from './index'\r\n\r\nconst AuthReducer = (state = initialState.Auth, action) => {\r\n  switch(action.type){\r\n    case \"AUTH::LOGIN\":\r\n      return {\r\n        ...state,\r\n        error: '',\r\n        isChecking: true,\r\n        username: action.data.username\r\n      }\r\n\r\n    \r\n    case \"AUTH::REGISTER\": \r\n      return {\r\n        isChecking: true,\r\n        username: action.data.username,\r\n        ...state\r\n      }\r\n    \r\n\r\n    case \"AUTH::SUCCESS\":\r\n      return {\r\n        ...state,\r\n        isChecking: false,\r\n        token: action.data.token,\r\n        error: '',\r\n        isLoggedIn: true\r\n      }\r\n    \r\n    case \"AUTH::ERROR\":\r\n      return {\r\n        ...state,\r\n        isLoggedIn:false,\r\n        isChecking: false,\r\n        token: \"\",\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default AuthReducer","import { initialState } from './index'\r\n\r\nconst CartReducer = (state = initialState.Cart, action) => {\r\n    switch(action.type){\r\n      case \"CART::ADD\":\r\n        return {\r\n          ...state,\r\n          items: [\r\n            ...state.items,\r\n            action.data\r\n          ]\r\n        }\r\n\r\n      case \"CART::REMOVE\":\r\n        return {\r\n          ...state,\r\n          items: state.items.filter(item => item.id !== action.id)\r\n        }\r\n      \r\n      case \"CART::EMPTY\":\r\n        return {\r\n          ...state,\r\n          items: []\r\n        }\r\n\r\n      default:\r\n        return state\r\n    }\r\n}\r\n\r\nexport default CartReducer","import { initialState } from './index'\r\n\r\nconst DishReducer = (state = initialState.Dish, action) => {\r\n    switch(action.type){\r\n      case \"DISH::REQUEST\":\r\n        return {\r\n          ...state,\r\n          isFetching: true,\r\n          error: false\r\n        }\r\n      case \"DISH::SUCCESS\":\r\n        return {\r\n          ...state,\r\n          isFetching: false,\r\n          error: false,\r\n          data: action.data\r\n        }\r\n      case \"DISH::FAIL\":\r\n        return {\r\n          ...state,\r\n          isFetching: false,\r\n          error: true\r\n        }\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default DishReducer;","import { initialState } from './index'\r\n\r\nconst BillsReducer = (state = initialState.Bills, action) => {\r\n  switch(action.type){\r\n    case \"BILLS::REQUEST\":\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n        error: false,\r\n      }\r\n\r\n    case \"BILLS::SUCCESS\":\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        error: false,\r\n        data: action.data\r\n      }\r\n    \r\n    case \"BILLS::FAIL\":\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        error: true\r\n      }\r\n    \r\n    case \"BILLS::REQUEST_FOUND_BILL\":\r\n      return {\r\n        ...state,\r\n        isFetchingSpecific: false,\r\n        error: false,\r\n        billItems: action.data.items\r\n      }\r\n    case \"BILLS::SUCCESS_FOUND_BILL\":\r\n      return {\r\n        ...state,\r\n        isFetchingSpecific: true,\r\n        error: false,\r\n        billItems: []\r\n      }\r\n    case \"BILLS::FAIL_FOUND_BILL\":\r\n      return {\r\n        ...state,\r\n        isFetchingSpecific: false,\r\n        error: true,\r\n        billItems: []\r\n      }\r\n    case \"BILLS::REQUEST_DELETE\":\r\n      return {\r\n        ...state,\r\n        deleteRequest: true,\r\n        errorDeleting: false\r\n      }\r\n    case \"BILLS::SUCCESS_DELETE\":\r\n      return {\r\n        ...state,\r\n        deleteRequest: false,\r\n        successDeleting: true,\r\n        errorDeleting: false,\r\n      }\r\n    case \"BILLS::ERROR_DELETE\":\r\n      return {\r\n        ...state,\r\n        deleteRequest: false,\r\n        successDeleting: false,\r\n        errorDeleting: true,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default BillsReducer","import { initialState } from './index'\r\n\r\nconst SettingsReducer = (state = initialState.Settings, action) => {\r\n  switch(action.type){\r\n    case \"SETTINGS::FLIP_BILLS_REFRESH\":\r\n      return {\r\n        ...state,\r\n        autoRefreshBills: !state.autoRefreshBills\r\n      }\r\n    case \"SETTINGS::FLIP_RENDER_IMAGES\":\r\n      return {\r\n        ...state,\r\n        renderImages: !state.renderImages\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default SettingsReducer;","import { combineReducers } from 'redux'\r\nimport Snackbar from './snackbar'\r\nimport Auth from './auth'\r\nimport Cart from './Cart'\r\nimport Dish from './Dish'\r\nimport Bills from './Bill'\r\nimport Settings from './Settings'\r\n\r\nexport const initialState = {\r\n  Snackbar: {\r\n    open: false,\r\n    message: 'This is default message',\r\n    type: 'success',\r\n    duration: 6000\r\n  },\r\n  Auth: {\r\n    isLoggedIn: true,\r\n    errorMessage: '',\r\n    username: '',\r\n    isChecking: false,\r\n    token: ''\r\n  },\r\n  Cart: {\r\n    items: []\r\n  },\r\n  Dish: {\r\n    data: [],\r\n    isFetching: false,\r\n    error: true\r\n  },\r\n  Bills: {\r\n    isFetching: false,\r\n    error: false,\r\n    data: [],\r\n    billItems: [],\r\n    deleteRequest: false,\r\n    errorDeleting: false\r\n  },\r\n  Settings: {\r\n    autoRefreshBills: false,\r\n    renderImages: false\r\n  }\r\n}\r\n\r\nconst reducers = combineReducers({\r\n  Snackbar,\r\n  Auth,\r\n  Cart,\r\n  Dish,\r\n  Bills,\r\n  Settings\r\n})\r\n\r\nexport default reducers;","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport app from './reducers'\r\n\r\n/**\r\n * @name configureStore.js\r\n * @type { Stateless component }\r\n * @requires redux-thunk,redux-logger\r\n * @description: this is the function that returns a store object from redux.\r\n */\r\n\r\nconst localStorageMiddleware = ({getState}) => { // <--- FOCUS HERE\r\n    return (next) => (action) => {\r\n        const result = next(action);\r\n        localStorage.setItem('reduxState', JSON.stringify(\r\n            {\r\n                Cart: getState().Cart,\r\n                Settings: getState().Settings,\r\n                Dish: getState().Dish\r\n            }\r\n        ));\r\n        return result;\r\n    };\r\n};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet persistedStore = {}\r\n\r\ntry{\r\n    persistedStore = localStorage.getItem('reduxState') ? JSON.parse(localStorage.getItem('reduxState')) : {}\r\n}catch(err){\r\n    console.log(\"Unable to read store from localstorage\", err)\r\n}\r\n\r\nconst configureStore = () => {\r\n    return createStore(app, persistedStore, composeEnhancers(applyMiddleware(localStorageMiddleware)));\r\n};\r\n\r\nexport default configureStore;","export const snackbarSuccess = (message) => ({\r\n  type: \"SNACKBAR::SUCCESS\",\r\n  message\r\n})\r\n\r\n\r\nexport const snackbarError = (message) => ({\r\n  type: \"SNACKBAR::ERROR\",\r\n  message\r\n})\r\n\r\nexport const snackbarWarning = (message) => ({\r\n  type: \"SNACKBAR::WARNING\",\r\n  message\r\n})\r\n\r\nexport const snackbarInfo = (message) => ({\r\n  type: \"SNACKBAR::INFO\",\r\n  message\r\n})\r\n\r\nexport const closeSnackbar = () => ({\r\n  type: \"SNACKBAR::CLOSE\"\r\n})","import React from \"react\";\r\nimport { Snackbar, IconButton, SnackbarContent } from '@material-ui/core';\r\nimport {Close} from '@material-ui/icons'\r\nimport PropTypes from 'prop-types';\r\nimport {green, amber} from '@material-ui/core/colors'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux'\r\nimport { CheckCircle, Warning, Error, Info } from '@material-ui/icons'\r\nimport { closeSnackbar } from '../Store/actions/snackbar'\r\n\r\nconst variantIcon = {\r\n  success: <CheckCircle />,\r\n  warning: <Warning />,\r\n  error: <Error />,\r\n  info: <Info />,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}))\r\n\r\nconst MySnackbarContentWrapper = (props) => {\r\n  const classes = useStyles();\r\n  const {variant} = props\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={classes[variant]}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          {variantIcon[variant]}\r\n          {props.message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={props.onClose}>\r\n          <Close />\r\n        </IconButton>,\r\n      ]}\r\n    />\r\n  )\r\n}\r\n\r\nconst SnackBar = (props) => {\r\n  //console.log(\"Snackbar props\", props)\r\n  return(\r\n  <Snackbar\r\n    anchorOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'right',\r\n    }}\r\n    open={props.open}\r\n    autoHideDuration={props.duration}\r\n    onClose={props.handleClose}\r\n  >\r\n    <MySnackbarContentWrapper\r\n      onClose={props.handleClose}\r\n      variant={props.type}\r\n      message={props.message}\r\n    />\r\n  </Snackbar>\r\n);\r\n}\r\n\r\nSnackBar.propTypes = {\r\n  open: PropTypes.bool,\r\n  message: PropTypes.string,\r\n  handleClose: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.Snackbar\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleClose: () => dispatch(closeSnackbar())\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SnackBar);","\r\nconst Auth = {\r\n\r\n  isLoggedIn: () => {\r\n    let auth = JSON.parse(localStorage.getItem('auth'))\r\n    if(auth === null || !auth.isLoggedIn){\r\n      return false\r\n    }\r\n    return true\r\n  },\r\n\r\n  logUserIn: data => {\r\n\r\n    localStorage.setItem('auth', JSON.stringify(data))\r\n    window.location = process.env.REACT_APP_BASE_URL\r\n\r\n  },\r\n\r\n  logOut: () => {\r\n    localStorage.removeItem('auth')\r\n  },\r\n\r\n  getToken: () => {\r\n    let auth = JSON.parse(localStorage.getItem('auth'))\r\n    if(auth === null || !auth.isLoggedIn){\r\n      return ''\r\n    }\r\n    return auth.token\r\n  },\r\n\r\n  getUsername: () => {\r\n    let auth = JSON.parse(localStorage.getItem('auth'))\r\n    if(auth === null || !auth.isLoggedIn){\r\n      return ''\r\n    }\r\n    return auth.username\r\n  }\r\n\r\n}\r\n\r\nexport default Auth","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Link} from 'react-router-dom'\r\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Home from '@material-ui/icons/Home'\r\nimport { Icon, IconButton, BottomNavigation, BottomNavigationAction } from '@material-ui/core';\r\nimport AuthService from '../../Services/AuthService'\r\nimport Person from '@material-ui/icons/Person'\r\nimport FolderSpecial from '@material-ui/icons/FolderSpecial'\r\nimport Restaurant from '@material-ui/icons/Restaurant'\r\nimport AttachMoney from '@material-ui/icons/AttachMoney'\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCart'\r\nimport ExitToApp from '@material-ui/icons/ExitToApp'\r\nimport Menu from '@material-ui/icons/Menu'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport { connect } from 'react-redux'\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst navigation = [\r\n  {\r\n    label: \"Home\",\r\n    path: process.env.REACT_APP_BASE_URL+\"\",\r\n    icon: Home\r\n  },\r\n  {\r\n    label: \"Menu\",\r\n    path: process.env.REACT_APP_BASE_URL+\"/menu\",\r\n    icon: Restaurant\r\n  },\r\n  {\r\n    label: \"Special\",\r\n    path: process.env.REACT_APP_BASE_URL+\"/special\",\r\n    icon: FolderSpecial\r\n  },\r\n  {\r\n    label: \"Bill\",\r\n    path: process.env.REACT_APP_BASE_URL+\"/bill\",\r\n    icon: AttachMoney\r\n  },\r\n  {\r\n    label: \"Previous Bills\",\r\n    path: process.env.REACT_APP_BASE_URL+\"/previous\",\r\n    icon: ShoppingCart\r\n  }\r\n]\r\n\r\nconst auth = [\r\n  {\r\n    label: \"Login\",\r\n    path: process.env.REACT_APP_BASE_URL+\"/auth/login\"\r\n  },\r\n  {\r\n    label: \"Register\",\r\n    path: process.env.REACT_APP_BASE_URL+\"/auth/register\"\r\n  }\r\n]\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    width: \"100%\"\r\n  },\r\n  bottom:{\r\n    position: \"fixed\",\r\n    width: \"100%\",\r\n    bottom: 0,\r\n  },\r\n  appBar: {\r\n    width: window.innerWidth > 1000 ? `calc(100% - ${drawerWidth}px)`:`100%`,\r\n    marginLeft: window.innerWidth > 1000 ? drawerWidth : 0\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  icon: {\r\n    fill: '#fff'\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.default,\r\n    padding: theme.spacing(3),\r\n  },\r\n  link: {\r\n    color: '#000',\r\n    textDecoration: 'none'\r\n  },\r\n  contain: {\r\n    width:'100%'\r\n  },\r\n  headerText: {\r\n    flex: 1\r\n  }\r\n}));\r\n\r\n\r\nfunction Nav(props) {\r\n  let [activeIndex, setActiveIndex] = useState(props.activeIndex)\r\n  return(\r\n    <List>\r\n      {navigation.map((item, index) => (\r\n        <Link key={item.label} to={item.path} className={props.classes.link} onClick={() => setActiveIndex(index)}>\r\n          <ListItem button selected={activeIndex===index} onClick={props.onClick}>\r\n            <ListItemIcon>{<Icon component={item.icon} />}</ListItemIcon>\r\n              <ListItemText primary={item.label} />\r\n            </ListItem>\r\n          </Link>\r\n        ))}\r\n    </List>\r\n  )\r\n}\r\n\r\nfunction _DishesCart(props){\r\n  return (\r\n    <Link to={process.env.REACT_APP_BASE_URL+\"/cart\"}>    \r\n      <IconButton>\r\n        <Badge color={\"secondary\"} badgeContent={props.Cart.items.length}>\r\n          <ShoppingCart className={props.classes.icon} />\r\n        </Badge>\r\n      </IconButton>\r\n    </Link>\r\n  )\r\n}\r\nconst mapCartStateToProps = state => ({\r\n  Cart: state.Cart\r\n})\r\nlet DishesCart = connect(mapCartStateToProps, null)(_DishesCart)\r\n\r\nexport default function PermanentDrawerLeft(props) {\r\n  const classes = useStyles();\r\n  const [drawerOpen, setDrawerOpen] = useState(false)\r\n\r\n  function renderAuth() {\r\n    if(AuthService.isLoggedIn()){\r\n      return (\r\n        <React.Fragment>\r\n          \r\n          <ListItem button>\r\n            <ListItemIcon><Person /></ListItemIcon>\r\n            <ListItemText primary={AuthService.getUsername()} />\r\n          </ListItem>\r\n          \r\n          <Link className={classes.link} to={process.env.REACT_APP_BASE_URL+\"/auth/logout\"}>\r\n            <ListItem button onClick={() => window.location.reload()}>\r\n              <ListItemIcon><ExitToApp /></ListItemIcon>\r\n              <ListItemText primary={'Logout'}/>\r\n            </ListItem>\r\n          </Link>\r\n        </React.Fragment>\r\n      )\r\n    }\r\n    return (\r\n      auth.map((item, index) => (\r\n        <Link key={item.label} to={item.path} className={classes.link}>\r\n          <ListItem button>\r\n            <ListItemIcon><Home /></ListItemIcon>\r\n            <ListItemText primary={item.label} />\r\n          </ListItem>\r\n        </Link>\r\n      ))\r\n    )\r\n  }\r\n\r\n  let activeIndex = 0;\r\n  navigation.forEach((item, index) => {\r\n    \r\n    if(index === 0)\r\n      return\r\n    if(window.location.href.indexOf(item.path) !== -1){\r\n      activeIndex = index\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton onClick={() => setDrawerOpen(true)}>\r\n            <Menu className={classes.icon}/>\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap className={classes.headerText}>\r\n            Street 17\r\n          </Typography>\r\n          <DishesCart classes={classes}/>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SwipeableDrawer\r\n        open={drawerOpen}\r\n        className={classes.drawer}\r\n        variant={window.innerWidth > 1000 ? \"permanent\" : \"temporary\"}\r\n        onClose={() => setDrawerOpen(false)}\r\n        onOpen={() => setDrawerOpen(true)}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        anchor=\"left\"\r\n      >\r\n        <div className={classes.toolbar} />\r\n        <Divider />\r\n        <Nav classes={classes} activeIndex={activeIndex} onClick={() => setDrawerOpen(false)}/>\r\n        <Divider />\r\n        <List>\r\n          {renderAuth()}\r\n        </List>\r\n      </SwipeableDrawer>\r\n      <div className={classes.contain}>\r\n        <div className={classes.toolbar} />\r\n        {props.children}\r\n        <div className={classes.toolbar} />\r\n      </div>\r\n      {/* <BottomNavigation value={'home'} className={classes.bottom}>\r\n        <BottomNavigationAction label={'Home'} value={'home'} icon={<Home />}/>\r\n        <BottomNavigationAction label={'Menu'} value={'menu'} icon={<Restaurant />}/>\r\n        <BottomNavigationAction label={'Bills'} value={'money'} icon={<AttachMoney />}/>\r\n        <BottomNavigationAction label={'Previous bill'} value={'shoppingcart'} icon={<ShoppingCart />}/>\r\n      </BottomNavigation> */}\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  wrapper: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  buttonProgress: {\r\n    position: 'absolute'\r\n  },\r\n}))\r\n\r\nexport default function _Button({isLoading, children, ...props}) {\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <Button {...props} disabled={isLoading}>{children}</Button>\r\n      {isLoading && <CircularProgress size={24} className={classes.buttonProgress} />}\r\n    </div>\r\n  )\r\n}\r\n\r\n_Button.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  children: PropTypes.node.isRequired\r\n}","import axios from 'axios'\r\nimport AuthService from './AuthService'\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_URL\r\nexport default function fetchAPI(endpoint, payload, headers, method = 'get'){\r\n  const axiosConfig = {\r\n      headers: {\r\n          Authorization: \"Bearer \"+AuthService.getToken(),\r\n          ...headers\r\n      },\r\n      method: method.toLowerCase()\r\n  };\r\n  if(axiosConfig.method === 'get'){\r\n      axiosConfig.params = payload\r\n  } else {\r\n      axiosConfig.data = payload\r\n  }\r\n\r\n  //console.log(\"URL: \", process.env.PUBLIC_URL)\r\n\r\n  return axios(`${BACKEND_URL}${endpoint}`, axiosConfig)\r\n  //return axios(`${endpoint}`, axiosConfig)\r\n}","export default function ExtractErrorMessage(err) {\r\n  //track down error message\r\n  let message = \"Error occured\"\r\n  try {\r\n    console.log(err.response.data)\r\n    message = err.response.data.message || err.message\r\n    if(!err.response.data.success){\r\n      message = err.response.data.errors.message\r\n    }\r\n  }catch(err){\r\n    message = \"Some error has occured. Try again in sometime\"\r\n  }\r\n  \r\n  if(typeof(message) === \"object\")\r\n    message = \"Unknow error occured\"\r\n\r\n  return message\r\n}","import { snackbarSuccess, snackbarError } from './snackbar'\r\nimport fetchAPI from '../../Services/API'\r\nimport Auth from '../../Services/AuthService'\r\nimport ErrorHandler from '../../Services/ErrorHandler'\r\n\r\n\r\nconst PAGE = \"AUTH::\"\r\n\r\nexport const login = (dispatch, data) => {\r\n  dispatch(initiateLogin(data))\r\n  fetchAPI('/api/auth/login', data, '', 'POST')\r\n    .then(res => {\r\n      console.log(res.data)\r\n      if(res.data.success === false){\r\n        throw new Error({message: \"Unable to login\"})\r\n      }else{\r\n        console.log(\"Data: \", res.data)\r\n        Auth.logUserIn({\r\n          username: data.username,\r\n          token: res.data.data.token,\r\n          isLoggedIn: true\r\n        })\r\n        dispatch(snackbarSuccess(\"Logged In\"))\r\n        dispatch(loggedIn(res.data))\r\n        console.log(res.data)\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err)\r\n      //console.log(err.response.data.message)\r\n      dispatch(snackbarError(ErrorHandler(err)))\r\n      dispatch(error())\r\n    })\r\n}\r\n\r\nconst initiateLogin = (data) => ({\r\n    type: PAGE+\"LOGIN\",\r\n    data\r\n  }\r\n)\r\n\r\nconst loggedIn = (data) => ({\r\n  type: PAGE+\"SUCCESS\",\r\n  data\r\n})\r\n\r\nconst error = data => ({\r\n  type: PAGE+\"ERROR\"\r\n})\r\n\r\nexport const register = (dispatch, data) => {\r\n  dispatch(initiateRegister(data))\r\n  fetchAPI('/api/auth/register', data, '', 'POST')\r\n    .then(res => {\r\n      console.log(res.data)\r\n      if(res.data.token === undefined){\r\n        throw new Error({message: \"Unable to register\"})\r\n      }else{\r\n        dispatch(loggedIn(res.data))\r\n        console.log(\"Data: \", res.data)\r\n        Auth.logUserIn({\r\n          username: data.username,\r\n          token: res.data.token,\r\n          isLoggedIn: true\r\n        })\r\n        dispatch(snackbarSuccess(\"Registartion successfull\"))\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(\"Error: \", err.response)\r\n      console.error(\"Error: \", err);\r\n      //console.log(err.response.data.message)\r\n      //dispatch(snackbarError(err.response.data.errors.message || err.message))\r\n    })\r\n}\r\n\r\nconst initiateRegister = (data) => ({\r\n    type: PAGE+\"REGISTER\",\r\n    data\r\n  }\r\n)","import React, {useState} from 'react'\r\nimport { Grid, Paper, TextField, FormControl, Typography } from '@material-ui/core'\r\nimport LoadingButton from '../../../Enhancements/LoadingButton'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { login } from '../../../Store/actions/auth'\r\nimport { connect } from 'react-redux'\r\n\r\nconst styles = makeStyles(theme => ({  \r\n  root: {\r\n    padding: theme.spacing(1)\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    width: '100%',\r\n    '& > *': {\r\n      marginTop: theme.spacing(1),\r\n      marginBottom: theme.spacing(1)\r\n    }\r\n  }\r\n}))\r\n\r\nfunction Login(props) {\r\n\r\n  let [username, setUsername] = useState('')\r\n  let [password, setPassword] = useState('')\r\n\r\n\r\n  function onSubmit(e){\r\n    e.preventDefault()\r\n    console.log(\"Submission of form\")\r\n    props.login({\r\n      username, password\r\n    })\r\n  }\r\n\r\n  //console.log(props.Auth)\r\n\r\n  const classes = styles()\r\n  return (\r\n    <Grid container className={classes.root}justify={'center'}>\r\n      <Grid item>\r\n        <Paper className={classes.paper} component={'form'} action={\"/api/auth/login\"} method=\"POST\" onSubmit={onSubmit}>\r\n          <Typography variant=\"h6\" noWrap>\r\n            Login\r\n          </Typography>\r\n          <FormControl fullWidth>\r\n            <TextField \r\n              label={'Username'}\r\n              name={'username'}\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              label={'Password'}\r\n              name={'password'}\r\n              type={'password'}\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth>\r\n            <LoadingButton fullWidth isLoading={props.Auth.isChecking} type=\"submit\" variant=\"contained\" color=\"primary\">Log in</LoadingButton>\r\n          </FormControl>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  Auth: state.Auth\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  login: (data) => login(dispatch, data)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React, {useState} from 'react'\r\nimport { Grid, Paper, TextField, Button, FormControl, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { register } from '../../../Store/actions/auth'\r\nimport { connect } from 'react-redux'\r\n\r\nconst styles = makeStyles(theme => ({  \r\n  root: {\r\n    padding: theme.spacing(1)\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    width: '100%',\r\n    '& > *': {\r\n      marginTop: theme.spacing(1),\r\n      marginBottom: theme.spacing(1)\r\n    }\r\n  }\r\n}))\r\n\r\nfunction Register(props) {\r\n\r\n  function onSubmit(e){\r\n    e.preventDefault()\r\n    console.log(\"Submission of form\")\r\n    props.register({\r\n      username, password, location\r\n    })\r\n  }\r\n\r\n  let [username, setUsername] = useState('')\r\n  let [password, setPassword] = useState('')\r\n  let [location, setLocation] = useState('')\r\n\r\n  const classes = styles()\r\n  return (\r\n    <Grid container className={classes.root} justify={'center'}>\r\n      <Grid item>\r\n        <Paper className={classes.paper} component={'form'} action={\"/api/auth/login\"} method=\"POST\" onSubmit={onSubmit}>\r\n          <Typography variant=\"h6\" noWrap>\r\n            Register\r\n          </Typography>\r\n          <FormControl fullWidth>\r\n            <TextField \r\n              label={'Username'}\r\n              name={'username'}\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              label={'Password'}\r\n              name={'password'}\r\n              type={'password'}\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              label={'Location'}\r\n              name={'location'}\r\n              value={location}\r\n              onChange={e => setLocation(e.target.value)}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth>\r\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\">Register</Button>\r\n          </FormControl>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  register: (data) => dispatch(dispatch => register(dispatch, data))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(Register)","import React from  'react'\r\nimport Login from './Login'\r\nimport Register from './Register'\r\nimport {Route, Redirect, withRouter} from 'react-router-dom'\r\nimport AuthService from '../../Services/AuthService'\r\nimport {connect} from 'react-redux'\r\nimport { snackbarSuccess } from '../../Store/actions/snackbar'\r\n\r\nconst Logout = (props) => {\r\n  console.log(props)\r\n  AuthService.logOut()\r\n  props.snackbarSuccess(\"Logged out sucesfully\")\r\n  return <Redirect to={process.env.REACT_APP_BASE_URL+'/auth/login'} />\r\n}\r\n\r\nfunction Auth(props){ \r\n  if(AuthService.isLoggedIn() && props.match.params.auth_action !== 'logout'){\r\n    return <Redirect to={process.env.REACT_APP_BASE_URL}/>\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Route path={process.env.REACT_APP_BASE_URL+\"/auth/login\"} component={Login} />\r\n      <Route path={process.env.REACT_APP_BASE_URL+\"/auth/register\"} component={Register} />\r\n      <Route path={process.env.REACT_APP_BASE_URL+\"/auth/logout\"} component={() => <Logout snackbarSuccess={props.snackbarSuccess} />} />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  snackbarSuccess: message => dispatch(snackbarSuccess(message))\r\n})\r\n\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Auth))","// This is used to determine if a user is authenticated and\r\n// if they are allowed to visit the page they navigated to.\r\n\r\n// If they are: they proceed to the page\r\n// If not: they are redirected to the login page.\r\nimport React from 'react'\r\nimport AuthService from '../Services/AuthService'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\r\n  // Add your own authentication on the below line.\r\n  const isLoggedIn = AuthService.isLoggedIn()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isLoggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={{ pathname: process.env.REACT_APP_BASE_URL+'/auth/login', state: { from: props.location } }} />\r\n        )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute","import API from '../../Services/API'\r\nimport { snackbarError } from './snackbar'\r\nimport ErrorHandler from '../../Services/ErrorHandler'\r\n\r\nconst page = \"DISH::\"\r\n\r\nexport const fetchDishes = (dispatch, data) => {\r\n  dispatch(initDishFetch())\r\n  API('/api/dish', '', '', 'GET')\r\n    .then(res => {\r\n      //console.log(res)\r\n      dispatch(requestSuccess(res.data))\r\n    })\r\n    .catch(err => {\r\n      console.log(err.response, err)\r\n      dispatch(snackbarError(ErrorHandler(err)))\r\n      dispatch(requestFailure())\r\n    })\r\n}\r\n\r\nconst groupDishes = (data) => {\r\n  console.log(data)\r\n  if(data === undefined)\r\n    return\r\n  let items = {};\r\n  for(let i = 0; i < data.length; i++){\r\n    if(items[data[i].category_id] === undefined){\r\n      items[data[i].category_id] = []\r\n    }\r\n    items[data[i].category_id].push(data[i])\r\n  }\r\n\r\n  let processed = []\r\n  for(let item in items){\r\n    processed.push({\r\n      heading: item,\r\n      items: items[item]\r\n    })\r\n  }\r\n\r\n  return processed\r\n}\r\n\r\nconst initDishFetch = () => ({\r\n  type: page+\"REQUEST\"\r\n})\r\n\r\nconst requestSuccess = (res) => ({\r\n  type: page+\"SUCCESS\",\r\n  data: groupDishes(res.data)\r\n})\r\n\r\nconst requestFailure = () => ({\r\n  type: page+\"FAIL\"\r\n})","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Add from '@material-ui/icons/Add'\r\n\r\nconst useStyles = makeStyles({\r\n  media: {\r\n    height: 200,\r\n  },\r\n  icon:{\r\n    fontSize: 16,\r\n    marginRight: 8\r\n  }\r\n});\r\n\r\nexport default function MediaCard(props) {\r\n  const classes = useStyles();\r\n  //console.log(props)\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={process.env.REACT_APP_URL+\"\"+props.image}\r\n          title={props.name}\r\n          img={props.image}\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" noWrap={true}>\r\n            {props.name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {props.description.length > 100 ? props.description.substr(0, 97)+'...' : props.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => props.addClick(props.id)}>\r\n          <Add className={classes.icon}/> Add\r\n        </Button>\r\n        \r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Card from './Card'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Fastfood from '@material-ui/icons/Fastfood'\r\nimport Add from '@material-ui/icons/Add'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Refresh from '@material-ui/icons/Refresh'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Switch from '@material-ui/core/Switch'\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`vertical-tabpanel-${index}`}\r\n      aria-labelledby={`vertical-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `vertical-tab-${index}`,\r\n    'aria-controls': `vertical-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: 'flex',\r\n    height: 'calc(100vh - 64px)',\r\n    width: \"100%\",\r\n    flexDirection: window.innerWidth > 500 ? \"row\": \"column\",\r\n    padding: 0\r\n  },\r\n  tabs: {\r\n    borderRight: `1px solid ${theme.palette.divider}`,\r\n    paddingTop: theme.spacing(1),\r\n    minWidth: 200\r\n  },\r\n  container: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    margin: 0,\r\n  },\r\n  panel: {\r\n    width: '100%',\r\n    overflow: 'auto',\r\n    '&> div': {\r\n      padding: window.innerWidth > 500 ? 24 : 8, \r\n    }\r\n  },\r\n  list: {\r\n    width: '100%',\r\n    boxShadow: theme.shadows[1],\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 8,\r\n    position: \"relative\",\r\n    overflow: \"hidden\"\r\n  },\r\n  switchContainer: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    flexDirection: 'row',\r\n    backgroundColor: \"#fff\",\r\n    alignItems: \"center\",\r\n    paddingRight: 16,\r\n    justifyContent: \"space-between\"\r\n  }\r\n}));\r\n\r\nconst ImagesSwitch = props =>{\r\n  const classes = useStyles()\r\n  return (\r\n  <Grid item xs={12} className={classes.switchContainer}>\r\n    <div>\r\n      <span>Refresh</span>\r\n      <IconButton onClick={props.refreshMenu}>\r\n        <Refresh />\r\n      </IconButton>\r\n    </div>\r\n    <div>\r\n      <span>Render Images</span>\r\n      <Tooltip title={'Disable for slow network'}>\r\n        <Switch onClick={props.onClick} checked={props.checked}/>\r\n      </Tooltip>\r\n    </div>\r\n  </Grid>\r\n  )\r\n}\r\n\r\nfunction RenderDishDetails(props){\r\n  const classes = useStyles()\r\n  //prop.renderImages: required\r\n  if(props.renderImages === undefined){\r\n    return null;\r\n  }\r\n  if(props.renderImages) {\r\n    return (\r\n      <React.Fragment>\r\n        {\r\n          props.dishes.map(dish => \r\n            <Grid item xs={12} sm={6} key={dish.id}>\r\n              <Card\r\n                image={dish.image}\r\n                description={dish.description}\r\n                name={dish.label}\r\n                id={dish.id}\r\n                addClick={id => props.addClick(id)}\r\n                deleteClick={props.deleteClick}\r\n              />\r\n            </Grid>\r\n          )\r\n        }\r\n      </React.Fragment>\r\n    )\r\n  }else {\r\n    return (\r\n      <List className={classes.list}>\r\n        {\r\n          props.dishes.map(dish => \r\n            <ListItem button key={dish.id}>\r\n              <ListItemIcon>\r\n                <Fastfood />\r\n              </ListItemIcon>\r\n              <ListItemText primary={dish.label} secondary={dish.description.substr(0, 64)+'...'}/>\r\n              <ListItemSecondaryAction>\r\n                <IconButton onClick={e => props.addClick(dish.id)}>\r\n                  <Add />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          )\r\n        }\r\n      </List>\r\n    )\r\n  }\r\n}\r\n\r\nexport default React.memo((props) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <Tabs\r\n        orientation={window.innerWidth < 500 ? \"horizontal\": \"vertical\"}\r\n        variant=\"scrollable\"\r\n        value={value}\r\n        onChange={handleChange}\r\n        aria-label=\"Vertical tabs Menu\"\r\n        className={classes.tabs}\r\n      >\r\n        {\r\n          props.data.map((group, index) => <Tab label={group.heading} {...a11yProps(index)} key={index}/>)\r\n        } \r\n      </Tabs>\r\n      {\r\n        props.data.map((group, index) => \r\n          <TabPanel value={value} index={index} key={index} className={classes.panel}>\r\n            <Grid container spacing={1} className={classes.container}>\r\n              <ImagesSwitch checked={props.renderImages} onClick={props.flipRender} refreshMenu={props.refreshMenu}/>\r\n              <RenderDishDetails \r\n                dishes={group.items} \r\n                addClick={id => props.addClick(index, id)}\r\n                renderImages={props.renderImages}/>\r\n            </Grid>\r\n          </TabPanel>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n})","import React from 'react'\r\nimport {Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Divider, FormControl, FormLabel, RadioGroup, FormControlLabel, Radio, FormHelperText, Grid, TextField} from '@material-ui/core';\r\n\r\n\r\nconst RadioGroupCustom = props => {\r\n  //const { props } = prop;\r\n  //console.log(\"Serving\", props.item.serving);\r\n  return <FormControl component=\"fieldset\">\r\n  <FormLabel component=\"legend\">Serving</FormLabel>\r\n  <RadioGroup aria-label=\"serving\" name=\"serving\" value={props.value} onChange={props.sizeChange}>\r\n    {\r\n      props.item && \r\n      props.item.serving.map((item, index) => {\r\n        let t = 'Regular'\r\n        if(item.size === 'M') {\r\n          t = 'Medium'\r\n        }else if(item.size === 'L') {\r\n          t = \"Large\"\r\n        }\r\n        return <FormControlLabel\r\n          key={index}\r\n          value={item.size}\r\n          control={<Radio color=\"primary\" />}\r\n          label={t+' Rs.'+item.price}\r\n          labelPlacement=\"end\"\r\n        />\r\n      })\r\n    }\r\n  </RadioGroup>\r\n  <FormHelperText>Select your serving</FormHelperText>\r\n  </FormControl>\r\n  }\r\n\r\nexport default function ConfirmServing(props){\r\n  let [size, setSize] = React.useState('R')\r\n  let [quantity, setQuantity] = React.useState(1)\r\n    if(!props.open) {\r\n      return (<div></div>)\r\n    }\r\n\r\n  function handleSubmit(e){\r\n    props.handleSubmit({size, quantity})\r\n  }\r\n    return(\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{props.item.label}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {props.item && props.item.description}\r\n          </DialogContentText>\r\n          <Grid container>\r\n            <Grid item xs={6}>\r\n              <RadioGroupCustom {...props} sizeChange={e => setSize(e.target.value)} value={size}/>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <TextField label={'Quantity'} onChange={e => setQuantity(e.target.value)} value={quantity}/>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <Divider />\r\n        <DialogActions>\r\n          <Button onClick={props.handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">\r\n            Submit\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    ) \r\n  \r\n}\r\n","const PAGE = \"CART::\"\r\n\r\nexport const addItem = data => ({\r\n  type: PAGE+\"ADD\",\r\n  data\r\n})\r\n\r\nexport const removeItem = id => ({\r\n  type: PAGE+\"REMOVE\",\r\n  id\r\n})\r\n\r\nexport const emptyCart = () => ({\r\n  type: PAGE+\"EMPTY\"\r\n})","const PAGE=\"SETTINGS::\"\r\n\r\nexport const flipBillAutoRefresh = () => ({\r\n  type: PAGE+\"FLIP_BILLS_REFRESH\"\r\n})\r\n\r\nexport function flipRenderImages(){\r\n  return ({type: PAGE+\"FLIP_RENDER_IMAGES\"})\r\n  \r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nexport default function Loading(props){\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        props.isLoading ? <CircularProgress /> : props.children\r\n      }\r\n      \r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nLoading.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  children: PropTypes.node.isRequired\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { snackbarSuccess, snackbarError, snackbarInfo } from '../../Store/actions/snackbar'\r\nimport { fetchDishes } from '../../Store/actions/Dish'\r\nimport VerticalNav from './VerticalNav'\r\nimport { withRouter } from 'react-router-dom'\r\nimport ConfirmServing from './Modals/ConfirmServing'\r\nimport { addItem, removeItem } from '../../Store/actions/Cart'\r\nimport { flipRenderImages } from '../../Store/actions/Settings'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Loading from '../../Enhancements/Loading'\r\n\r\nclass AllDishes extends React.Component {\r\n  state = {\r\n    data: [],\r\n    modal: {\r\n      open: false,\r\n      value: 'R',\r\n      quantity: 1\r\n    },\r\n    renderImages: false\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    if(this.props.Dish.data.length > 0){\r\n      //this.setState({data: this.props.Dish.dishes})\r\n      return;\r\n    }\r\n    this.props.fetchDishes();\r\n  }\r\n\r\n  addClick = (groupIndex, id) => {\r\n    let item = {}\r\n    let dishes = this.props.Dish.data\r\n    console.log(groupIndex, id)\r\n    for(let j = 0; j < dishes[groupIndex].items.length; j++){\r\n      if(dishes[groupIndex].items[j].id === id){\r\n        item = dishes[groupIndex].items[j]\r\n        break\r\n      }\r\n    }\r\n    this.setState(prevState => ({\r\n      modal: {\r\n        ...prevState.modal,\r\n        item,\r\n        open: true\r\n      }\r\n    }))\r\n  }\r\n\r\n  deleteClick = (id) => {\r\n    console.log(id)\r\n    this.props.removeItem(id)\r\n  }\r\n\r\n  handleConfirmClose = () => {\r\n    this.setState({\r\n      modal: {\r\n        open: false,\r\n        value: 'R',\r\n        quantity: 1\r\n      }\r\n    })\r\n  }\r\n\r\n  // onServingSizeChange = e => {\r\n  //   let value = e.target.value;\r\n  //   this.setState(prevState => ({\r\n  //     modal: {\r\n  //       ...prevState.modal,\r\n  //       value\r\n  //     }\r\n  //   }))\r\n  // }\r\n\r\n  // handleQuantityChange = e => {\r\n  //   let l = e.target.value\r\n  //   this.setState(prevState => ({\r\n  //     modal: {\r\n  //       ...prevState.modal,\r\n  //       quantity: l\r\n  //     }\r\n  //   }))\r\n  // }\r\n\r\n  handleConfirmationSubmit = ({size, quantity}) => {\r\n    //get the item id, size, qunatity\r\n    let price = -1\r\n    this.state.modal.item.serving.forEach(serving => {\r\n      \r\n      //if(serving.size === this.state.modal.value)\r\n      if(serving.size === size)\r\n        price = serving.price\r\n    })\r\n    let item = {\r\n      id: new Date().getTime(),\r\n      _id: this.state.modal.item.id,\r\n      size,\r\n      quantity,\r\n      name: this.state.modal.item.label,\r\n      price\r\n    }\r\n    this.setState({\r\n      modal: {\r\n        open: false,\r\n        value: 'R',\r\n        quantity: 1\r\n      }\r\n    })\r\n    this.props.addItem(item)\r\n  }\r\n\r\n  switchChange = e => {\r\n    this.setState(prevState => ({\r\n      renderImages: !prevState.renderImages\r\n    }))\r\n  }\r\n\r\n  render = () => {\r\n    console.log(this.state)\r\n\r\n    return (\r\n      <Grid container>\r\n        <Grid item xs={12} style={{minHeight: \"400px\", width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n          <Loading isLoading={this.props.Dish.isFetching}>\r\n            <VerticalNav \r\n              data={this.props.Dish.data}\r\n              addClick={this.addClick}\r\n              deleteClick={this.deleteClick}\r\n              renderImages={this.props.Settings.renderImages}\r\n              flipRender={this.props.flipRenderImages}\r\n              refreshMenu={() => this.props.fetchDishes()}\r\n            />\r\n            {\r\n              this.state.modal.open && \r\n              <ConfirmServing \r\n                handleClose={this.handleConfirmClose}\r\n                {...this.state.modal}\r\n                handleQuantityChange={this.handleQuantityChange}\r\n                onServingSizeChange={this.onServingSizeChange}\r\n                handleSubmit={this.handleConfirmationSubmit}\r\n                />\r\n            }\r\n            </Loading>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  Dish: state.Dish,\r\n  Settings: state.Settings\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\r\n  snackbarSuccess: message => dispatch(snackbarSuccess(message)),\r\n  snackbarError: message => dispatch(snackbarError(message)),\r\n  snackbarInfo: message => dispatch(snackbarInfo(message)),\r\n  addItem: (item) => dispatch(addItem(item)),\r\n  removeItem: id => dispatch(removeItem(id)),\r\n  fetchDishes: data => fetchDishes(dispatch, data),\r\n  flipRenderImages: () => dispatch(flipRenderImages())\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AllDishes))","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { List, ListItem, ListItemIcon, ListItemText, ListItemSecondaryAction, IconButton, Button } from '@material-ui/core'\r\nimport RestaurantMenu from '@material-ui/icons/RestaurantMenu'\r\nimport Close from '@material-ui/icons/Close'\r\nimport {makeStyles } from '@material-ui/core/styles'\r\nimport { removeItem } from '../../Store/actions/Cart'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[1]\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    padding: window.innerWidth > 500 ?theme.spacing(3) : theme.spacing(1)\r\n  },\r\n  buttonHolder: {\r\n    flexDirection: 'row-reverse',\r\n    display: 'flex',\r\n    paddingRight: theme.spacing(1),\r\n    textDecoration: 'none'\r\n  }\r\n}));\r\n\r\nconst makeText = item => {\r\n  return \"Price: \"+item.price+\" Quanity: \"+item.quantity+\" Size: \"+item.size\r\n}\r\n\r\nfunction Cart(props) {\r\n\r\n  const classes = useStyles()\r\n  console.log(props.Cart)\r\n  return (\r\n    <div className={classes.container}>\r\n      <List className={classes.root}>\r\n      {\r\n        props.Cart.items.length === 0 ? \r\n        <ListItem>Cart is Empty Add Some Items</ListItem>\r\n        :\r\n        props.Cart.items.map(value => {\r\n          const labelId = `checkbox-list-secondary-label-${value.id}`;\r\n          return (\r\n            <ListItem key={value.id} button>\r\n              <ListItemIcon>\r\n                <RestaurantMenu />\r\n              </ListItemIcon>\r\n              <ListItemText id={labelId} \r\n                primary={value.name} \r\n                secondary={makeText(value)}\r\n                />\r\n\r\n              <ListItemSecondaryAction>\r\n                <IconButton onClick={() => { if(window.confirm('Do you wish to remove?'))props.removeItem(value.id)}}>\r\n                  <Close />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          );\r\n        })\r\n      }\r\n      <Link className={classes.buttonHolder} to={process.env.REACT_APP_BASE_URL+'/bill'}>\r\n        <Button variant=\"contained\" color=\"primary\">Generate Bill</Button>\r\n      </Link>\r\n      </List>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  Cart: state.Cart\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  removeItem: id => dispatch(removeItem(id))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)\r\n","import API from '../../Services/API'\r\nimport ErrorHandler from '../../Services/ErrorHandler'\r\nimport { snackbarError, snackbarInfo } from './snackbar'\r\n\r\nconst PAGE=\"BILLS::\"\r\n\r\nexport function fetchBills(dispatch){\r\n  dispatch(initRequest())\r\n  API('/api/bill/today', '', '', 'GET')\r\n    .then(res => {\r\n      if(!res.data.success){\r\n        throw new Error(\"Error fetching results\")\r\n      }\r\n      dispatch(requestSuccess(res.data.data))\r\n    })\r\n    .catch(err => {\r\n      dispatch(snackbarError(ErrorHandler(err)))\r\n      dispatch(requestFail())\r\n    })\r\n}\r\n\r\nconst initRequest = () => ({\r\n  type: PAGE+\"REQUEST\"\r\n})\r\n\r\nconst requestSuccess = data => ({\r\n  type: PAGE+\"SUCCESS\",\r\n  data\r\n})\r\n\r\nconst requestFail = () => ({\r\n  type: PAGE+\"FAIL\",\r\n})\r\n\r\nexport function fetchSpecific(dispatch, id){\r\n  dispatch(initRequestSpecific())\r\n  API('/api/bill/'+id, '', '', 'GET')\r\n    .then(res => {\r\n      if(!res.data.success){\r\n        throw new Error(\"Error fetching results\")\r\n      }\r\n      dispatch(specificBillFetched(res.data.data))\r\n    })\r\n    .catch(err => {\r\n      dispatch(snackbarError(ErrorHandler(err)))\r\n      dispatch(requestFailSpecific())\r\n    })\r\n}\r\n\r\nconst specificBillFetched = data => ({\r\n  type: \"BILLS::REQUEST_FOUND_BILL\",\r\n  data\r\n})\r\n\r\nconst initRequestSpecific = () => ({\r\n  type: \"BILLS::SUCCESS_FOUND_BILL\"\r\n})\r\n\r\nconst requestFailSpecific = () => ({\r\n  type: \"BILLS::FAIL_FOUND_BILL\"\r\n})\r\n\r\n\r\nexport function deleteBill(dispatch, id, callback){\r\n  dispatch(initBillDelete())\r\n  API('/api/bill/'+id, '', '', 'DELETE')\r\n    .then(res => {\r\n      if(!res.data.success){\r\n        throw new Error(res.data.errors.message)\r\n      }\r\n      dispatch(snackbarInfo(\"Dish pushed in cart\"))\r\n      dispatch(successBillDelete())\r\n      callback()\r\n      //push to cart url \r\n      \r\n    })\r\n    .catch(err => {\r\n      dispatch(snackbarError(ErrorHandler(err)))\r\n      dispatch(errorBillDelete())\r\n    })\r\n}\r\n\r\nconst initBillDelete = () => ({\r\n  type: PAGE+\"REQUEST_DELETE\"\r\n})\r\n\r\nconst successBillDelete = () => ({\r\n  type: PAGE+\"SUCCESS_DELETE\"\r\n})\r\n\r\nconst errorBillDelete = () => ({\r\n  type: PAGE+\"ERROR_DELETE\"\r\n})","import React, {useEffect} from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport Kitchen from '@material-ui/icons/Kitchen'\r\nimport AttachMoney from '@material-ui/icons/AttachMoney'\r\nimport Fastfood from '@material-ui/icons/Fastfood'\r\nimport { connect } from 'react-redux'\r\nimport { fetchBills } from '../../Store/actions/Bills'\r\nimport Loading from '../../Enhancements/Loading'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root:{\r\n    width: '100%',\r\n    margin: 0,\r\n    justifyContent: 'center',\r\n    minHeight: 100,\r\n    alignItems: 'center'\r\n  }\r\n}))\r\n\r\nfunction transformData(bills){\r\n  let obj = {count: bills.length, amount: 0, tax: 0, categories: mockCategory}\r\n  for(let i = 0; i < bills.length; i++){\r\n    //console.log(bills[i])\r\n    obj.amount+= +bills[i].amount;\r\n    obj.tax+= +bills[i].tax\r\n  }\r\n  return obj\r\n}\r\n\r\nconst RenderBillsCard = props => (\r\n  <Paper className={props.classes.paper}>\r\n    <List subheader={<ListSubheader>Bills generated today</ListSubheader>}>\r\n      <ListItem>\r\n        <ListItemIcon>\r\n        <Kitchen />\r\n        </ListItemIcon>\r\n        <ListItemText primary={'Total orders placed'} secondary={props.bill.count}/>\r\n      </ListItem>\r\n      <ListItem>\r\n        <ListItemIcon>\r\n          <AttachMoney />\r\n        </ListItemIcon>\r\n        <ListItemText primary={'Total amount'} secondary={props.bill.amount}/>\r\n      </ListItem>\r\n      <ListItem>\r\n        <ListItemIcon>\r\n          <AttachMoney />\r\n        </ListItemIcon>\r\n        <ListItemText primary={'Total tax'} secondary={props.bill.tax}/>\r\n      </ListItem>\r\n    </List>\r\n  </Paper>\r\n)\r\n\r\n//which category items were order. Would help in keeping the inventory in check\r\nconst RenderOrderItemsCountCard = props => (\r\n  <Paper>\r\n    <List subheader={<ListSubheader>Items sold today</ListSubheader>}>\r\n      {\r\n        props.items.map((item, index) => <ListItem key={index} button>\r\n          <ListItemIcon>\r\n            <Fastfood/>\r\n          </ListItemIcon>\r\n          <ListItemText primary={item.category} secondary={item.count}/>\r\n        </ListItem>)\r\n      }\r\n    </List>\r\n  </Paper>\r\n)\r\n\r\nconst mockCategory = [\r\n  {\r\n    category: \"Beverage\",\r\n    count: 23\r\n  },\r\n  {\r\n    category: \"Burgers\",\r\n    count: 22\r\n  },\r\n  {\r\n    category: \"Pizza\",\r\n    count: 12\r\n  },\r\n  {\r\n    category: \"Main course\",\r\n    count: 32\r\n  }\r\n]\r\n\r\n\r\nfunction Home(props){\r\n\r\n  const classes = useStyles()\r\n  // let [bill, setBill] = useState({\r\n  //   count: 0,\r\n  //   amount: 0,\r\n  //   tax: 0,\r\n  //   categories: mockCategory\r\n  // })\r\n\r\n  useEffect(() => {\r\n    if(props.Bill.data.length === 0){\r\n      props.fetchBills()\r\n    }\r\n  }, [])\r\n\r\n  let bill = transformData(props.Bill.data)\r\n\r\n  //console.log(bill)\r\n  return (\r\n    <Grid container spacing={2} className={classes.root}>\r\n      <Loading isLoading={props.Bill.isFetching}>\r\n        <Grid item xs={12} md={6}>\r\n          <RenderBillsCard bill={bill} classes={classes}/>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <RenderOrderItemsCountCard items={bill.categories}/>\r\n        </Grid>\r\n      </Loading>\r\n    </Grid>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  Bill: state.Bills\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchBills: () => fetchBills(dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React from 'react'\r\nimport { TableRow, TableBody, TableCell, TableHead, Grid } from '@material-ui/core'\r\n\r\nexport const GenerateBody = props => {\r\n  return (\r\n    \r\n      <TableBody>\r\n        {\r\n          props.body.map((row, index) => \r\n            <TableRow key={index}>\r\n              <TableCell>{index+1}</TableCell>\r\n              <TableCell>{row.name}</TableCell>\r\n              <TableCell align=\"right\"> {row.price}</TableCell>\r\n              <TableCell align=\"right\">{row.quantity}</TableCell>\r\n              <TableCell align=\"right\"> {row.price * row.quantity}</TableCell>\r\n            </TableRow>\r\n          )\r\n        }\r\n      </TableBody>\r\n    \r\n  )\r\n}\r\n\r\n\r\nexport const GenerateHead = props => (\r\n  <TableHead>\r\n    <TableRow>\r\n      {\r\n        props.head.map((item, index) => \r\n          <TableCell key={index} className={props.classes.head} align={index > 1 ? 'right': 'left'}>{item}</TableCell>\r\n        )\r\n      }\r\n    </TableRow>\r\n  </TableHead>\r\n)\r\n\r\n\r\nexport const Row = props => (\r\n  <Grid container className={props.classes.row}>\r\n    <Grid item xs={7}>{props.label}</Grid>\r\n    <Grid item xs={5}> {props.value}</Grid>\r\n  </Grid>\r\n)","import React from 'react'\r\nimport Select from '@material-ui/core/Select'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nexport default function SelectMenu({options, ...props}){\r\n  return (\r\n    <Select {...props}>\r\n      {\r\n        options.map(option => <MenuItem key={option.value} value={option.value}>{option.label}</MenuItem>)\r\n      }\r\n    </Select>\r\n  )\r\n}","import React from 'react'\r\nimport {AmountSection} from './index'\r\nimport { GenerateHead } from './BillItems'\r\nimport Table from '@material-ui/core/Table'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { TableRow, TableBody, TableCell } from '@material-ui/core'\r\nimport {withStyles} from '@material-ui/core/styles'\r\n\r\nconst styles = theme => ({\r\n  heading: {\r\n    fontWeight: \"lighter\",\r\n    textTransform: \"uppercase\",\r\n    wordSpacing: 4,\r\n    textAlign: \"center\",\r\n    paddingTop: 32,\r\n  },\r\n  bye: {\r\n    textAlign: 'center',\r\n    paddingTop: 4\r\n  },\r\n  address: {\r\n    textAlign: 'center',\r\n    padding: 8\r\n  },\r\n  time: {\r\n    textAlign: \"right\",\r\n    padding: 8,\r\n    paddingBottom: 32\r\n  },\r\n  billId: {\r\n    textAlign: 'center',\r\n    fontSize: 24,\r\n    textAlign: 'center',\r\n    margin: 0\r\n  },\r\n  container: {\r\n    maxWidth: 320,\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  }\r\n})\r\n\r\nconst Body = props => (\r\n  <TableBody>\r\n    {\r\n      props.body.map((row, index) => \r\n        <TableRow key={index}>\r\n          <TableCell>{row.name}</TableCell>\r\n          <TableCell align=\"left\">{row.quantity} * {row.price}</TableCell>\r\n          <TableCell align=\"right\"> {row.price * row.quantity}</TableCell>\r\n        </TableRow>\r\n      )\r\n    }\r\n  </TableBody>\r\n)\r\n\r\nclass PrintPage extends React.Component{\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.container}>\r\n        <Typography variant=\"h4\" className={classes.heading}>Street 17 cafe</Typography>\r\n        <p className={classes.address}>Street 17 cafe, Azad chowk, Rustumpur, Gorakhpur, Uttar pradesh - 270001</p>\r\n        <p className={classes.billId}>Bill Id: {this.props.id}</p>\r\n        <Divider />\r\n        <Table>\r\n          <GenerateHead head={['Item', 'Quantity', 'Price']} classes={this.props._classes}/>\r\n          <Body body={this.props.items || []} />\r\n        </Table>\r\n        <AmountSection rows={this.props.rows} classes={this.props._classes}/>\r\n        <Divider />\r\n        <Typography variant=\"body1\" className={classes.bye}>***Thank you visit again***</Typography>\r\n        <p className={classes.time}>{ new Date().toLocaleDateString() }, {new Date().toLocaleTimeString()}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(PrintPage);","import React, {useState} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { Table, Grid, Divider, Typography, TextField, InputAdornment } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { GenerateBody, GenerateHead, Row } from './BillItems'\r\nimport API from '../../Services/API'\r\nimport ReactToPrint from 'react-to-print'\r\nimport LoadingButton from '../../Enhancements/LoadingButton'\r\nimport SelectMenu from '../../Enhancements/SelectMenu'\r\nimport { snackbarSuccess, snackbarError, snackbarWarning } from '../../Store/actions/snackbar'\r\nimport { emptyCart } from '../../Store/actions/Cart'\r\nimport { withRouter } from 'react-router-dom'\r\nimport PrintBill from './Print'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[1],\r\n    position: 'relative',\r\n    overflow: \"auto\"\r\n  },\r\n  container: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    margin: 0\r\n  },\r\n  buttonHolder: {\r\n    flexDirection: 'row-reverse',\r\n    display: 'flex'\r\n  },\r\n  head: {\r\n    fontWeight: 400,\r\n    textTransform: 'uppercase',\r\n  },\r\n  row: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    padding: theme.spacing(2)\r\n  },\r\n  table: {\r\n    width: '100%',\r\n    overflow: 'auto'\r\n  }\r\n}));\r\n\r\n\r\nfunction calculateTotal(data, donation=0, discount=0){\r\n  let total = 0\r\n  if(isNaN(donation))\r\n    donation = 0\r\n  if(isNaN(discount))\r\n    discount = 0\r\n  if(data === undefined || data.length === 0)\r\n    return []\r\n  data.forEach(item => total+=(item.price * item.quantity))\r\n  console.log( Math.round(2 * total * 2.5)/100 + donation - (Math.round(total * discount)/100), total, donation, (Math.round(total * discount)/100))\r\n  return ([\r\n    {\r\n      label: 'SubTotal',\r\n      value: total\r\n    },\r\n    {\r\n      label: 'CGST 2.5%',\r\n      value: Math.round(total * 2.5)/100\r\n    },\r\n    {\r\n      label: 'SGST 2.5%',\r\n      value: Math.round(total * 2.5) / 100\r\n    },\r\n    {\r\n      label: 'Donation',\r\n      value: donation\r\n    },\r\n    {\r\n      label: 'Discount',\r\n      value: discount+'%'\r\n    },\r\n    {\r\n      label: 'Total',\r\n      value: Math.round((total + (2 * total * 0.025) + donation - (total * discount/100))*100)/100\r\n    }\r\n  ])\r\n}\r\n\r\nexport const AmountSection = props => (\r\n  <React.Fragment>\r\n    <Typography variant=\"h5\" className={props.classes.row}>Amount</Typography>\r\n      {\r\n        props.rows.map((item, index) => \r\n          <React.Fragment  key={index}>\r\n            <Row label={item.label} value={item.value} classes={props.classes}/>\r\n            <Divider />\r\n          </React.Fragment>\r\n        )\r\n      }\r\n  </React.Fragment>\r\n)\r\n\r\nfunction PaymentMethod(props) {\r\n  let [options, setOptions] = React.useState([])\r\n  React.useEffect(() => {\r\n    API('/api/payment', '', '', 'GET')\r\n      .then(res => {\r\n        if(res.data.success){\r\n          console.log(res.data)\r\n          let data = [{value: -1, label: \"Select a payment method\"}, ...res.data.data.message.map(item => ({value: item.id, label: item.label}))]\r\n          \r\n          setOptions(data)\r\n          return\r\n        }\r\n        throw new Error(\"Unable to fetch Payment\")\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <SelectMenu value={props.value} options={options} fullWidth onChange={props.onChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Bill(props) {\r\n  let [billId, setBillId] = useState(-1)\r\n  let [billRequest, setBillRequest] = useState(false)\r\n  let [donation, setDonation] = useState(0)\r\n  let [discount, setDiscount] = useState(0)\r\n  let [paymentMethod, setPaymentMethod] = useState(-1)\r\n  const classes = useStyles()\r\n  const rows = calculateTotal(props.Cart.items, parseInt(donation), parseInt(discount))\r\n  const printBillRef = React.useRef()\r\n\r\n  function submitBill(items, donation=0, discount=0, props){\r\n    if(isNaN(donation))\r\n      donation = 0\r\n    if(isNaN(discount))\r\n      discount = 0\r\n    if(paymentMethod === -1){\r\n      props.snackbarWarning(\"Please select a payment method\")\r\n      return\r\n    }\r\n    setBillRequest(true)\r\n    API('/api/bill', {items, donation, discount, paymentId: paymentMethod}, '', 'POST')\r\n      .then(res => {\r\n        console.log(res.data, res.data.success)\r\n        if(res.data.success){\r\n          setBillId(res.data.data.message.id)\r\n          setBillRequest(false)\r\n          document.querySelector(\"#print\").click()\r\n          props.emptyCart()\r\n          props.snackbarSuccess(\"Bill submitted\")\r\n          props.history.push(process.env.REACT_APP_BASE_URL+'/menu')\r\n  \r\n        }\r\n        console.log(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response)\r\n        setBillRequest(false)\r\n        props.snackbarError(\"Unable to save dish\")\r\n      })\r\n  \r\n    //Send a printJob\r\n  \r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={2} className={classes.container}>\r\n      <Grid item xs={12} sm={8}>\r\n        <div className={classes.root}>\r\n          <Table className={classes.table}>\r\n          <caption>Dishes selected for the order</caption>\r\n            <GenerateHead head={['Sl no', 'Dish', 'Price', 'Quanity', 'Total']} classes={classes}/>\r\n            <GenerateBody body={props.Cart.items}/>\r\n          </Table>\r\n          <div className={classes.row}>\r\n            <TextField \r\n              label={'Wish to donate for a cause'} \r\n              type=\"number\" \r\n              fullWidth \r\n              value={donation} \r\n              autoFocus={true}\r\n              onChange={(e) => setDonation(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    \r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              />\r\n          </div>\r\n          <div className={classes.row}>\r\n            <TextField \r\n              label={'Discount percentage'} \r\n              type=\"number\" \r\n              fullWidth \r\n              value={discount} \r\n              autoFocus={true}\r\n              onChange={(e) => setDiscount(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    %\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              />\r\n          </div>\r\n          <div className={classes.row}>\r\n            <PaymentMethod value={paymentMethod} onChange={e => setPaymentMethod(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n      </Grid>\r\n      <Grid item sm={4} xs={12}>\r\n        <div className={classes.root}>\r\n          <AmountSection classes={classes} rows={rows} />\r\n          <div className={classes.row}>\r\n            <LoadingButton isLoading={billRequest} fullWidth variant=\"contained\" color=\"primary\" onClick={() => submitBill(props.Cart.items, donation, discount, props)}>Print Bill</LoadingButton>\r\n            <ReactToPrint \r\n              trigger={() => <button id=\"print\" style={{display:\"none\"}}></button>}\r\n              content={() => printBillRef.current}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Grid>\r\n      <div style={{display: \"none\"}}>\r\n        <PrintBill ref={printBillRef} rows={rows} _classes={classes} items={props.Cart.items} id={billId}/>\r\n      </div>\r\n    </Grid>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  Cart: state.Cart\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  emptyCart: () => dispatch(emptyCart()),\r\n  snackbarSuccess: (msg) => dispatch(snackbarSuccess(msg)),\r\n  snackbarError: (msg) => dispatch(snackbarError(msg)),\r\n  snackbarWarning: (msg) => dispatch(snackbarWarning(msg))\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Bill))\r\n","import React from 'react'\r\nimport {Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Divider, Grid, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport Loading from '../../Enhancements/Loading'\r\nimport LoadingButton from '../../Enhancements/LoadingButton'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport RestaurantMenu from '@material-ui/icons/RestaurantMenu'\r\n\r\n\r\nconst makeText = item => {\r\n  //console.log(item)\r\n  return \"Price: \"+item.price+\" Quanity: \"+item.quantity+\" Size: \"+item.size\r\n}\r\n\r\nconst useStyles = makeStyles(theme =>({\r\n  row: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    padding: theme.spacing(2)\r\n  },\r\n  dishDetails: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    minHeight: 100\r\n  },\r\n  list: {\r\n    width: '100%'\r\n  }\r\n}))\r\n\r\nexport const Row = props => (\r\n  <Grid container className={props.classes.row}>\r\n    <Grid item xs={7}>{props.label}</Grid>\r\n    <Grid item xs={5}> {props.value}</Grid>\r\n  </Grid>\r\n)\r\n\r\n// function prepareData(data){\r\n//   let obj = {id: 'fetching'}\r\n//   if(data.items.length === 0)\r\n//     return obj\r\n//   console.log(data)\r\n//   obj.id = data.bill[0].id\r\n//   return obj;\r\n// }\r\n\r\nconst Item = props => (\r\n  <ListItem button>\r\n    <ListItemIcon>\r\n      <RestaurantMenu />\r\n    </ListItemIcon>\r\n    <ListItemText \r\n      primary={props.data.dish_name} \r\n      secondary={makeText(props.data)}\r\n    />\r\n  </ListItem>\r\n)\r\n\r\nexport default function ViewBillModal(props){\r\n  const classes = useStyles()\r\n    if(!props.open) {\r\n      return null\r\n    }\r\n    //let data = prepareData(props.details)\r\n    return(\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Bill id: {props.bill.id}</DialogTitle>\r\n        <DialogContent>\r\n          \r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Ordered Items\r\n          </DialogContentText>\r\n          <Grid container>    \r\n            \r\n            <Grid item xs={12} sm={6} className={classes.dishDetails}>\r\n              <Loading isLoading={props.loading}>\r\n                <List className={classes.list}>\r\n                {\r\n                  props.items.map((item, index) => \r\n                    <Item data={item} key={index} />\r\n                  )\r\n                }\r\n                </List>\r\n              </Loading>\r\n            </Grid>  \r\n            <Grid item xs={12} sm={6}>\r\n              <Row classes={classes} label={'Amount'} value={props.bill.amount}/>\r\n              <Row classes={classes} label={'Tax'} value={props.bill.tax}/>\r\n              <Row classes={classes} label={'Total'} value={+props.bill.amount + +props.bill.tax}/>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <Divider />\r\n        <DialogActions>\r\n          <Button onClick={props.handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <LoadingButton isLoading={props.deleteRequest} onClick={props.handleSubmit} color=\"primary\" autoFocus variant=\"contained\">\r\n            Push Items in Cart\r\n          </LoadingButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    ) \r\n  \r\n}\r\n","import React from 'react'\r\nimport Loading from '../../Enhancements/Loading'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Edit from '@material-ui/icons/Edit'\r\nimport { addItem, emptyCart } from '../../Store/actions/Cart'\r\nimport { flipBillAutoRefresh } from '../../Store/actions/Settings'\r\nimport { connect } from 'react-redux'\r\nimport { fetchBills, fetchSpecific, deleteBill } from '../../Store/actions/Bills'\r\nimport { Table, TableCell, TableHead, TableBody, TableRow, Switch } from '@material-ui/core'\r\nimport Refresh from '@material-ui/icons/Refresh'\r\nimport ViewBillModal from './ViewBillModal'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    minHeight: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: 8\r\n  },\r\n  list: {\r\n    position: 'relative',\r\n    borderRadius: 4,\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n    backgroundColor: '#fff',\r\n    boxShadow: theme.shadows[1]\r\n  },\r\n  settingsContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    flexDirection: \"row\"\r\n  }\r\n}))\r\n\r\nfunction transformData(bills){\r\n  return bills.map(bill => {\r\n    let a = {id: bill.id}\r\n    a.amount = +bill.amount + +bill.tax\r\n    const t = bill.created_at.split(\" \")[1]\r\n    let timeParts = t.split(\":\")\r\n    let meridian = \"AM\"\r\n    let time = timeParts[0]\r\n    if(+timeParts[0] > 12){\r\n      time = +timeParts[0] - 12\r\n      meridian = \"PM\"\r\n    }\r\n    a.time = time+\":\"+ timeParts[1] +\" \"+meridian\r\n    return a\r\n  })\r\n}\r\n\r\n// const BillsList = props => (\r\n//   <List subheader={<ListSubheader>Previous Bills</ListSubheader>} className={props.classes.list}>\r\n//     {\r\n//       props.bills.map((bill, index) => \r\n//         <ListItem key={index}>\r\n//           <ListItemIcon>\r\n//             <span>{bill.id}</span>\r\n//           </ListItemIcon>\r\n//           <ListItemText primary={''+bill.amount} secondary={bill.time}/>\r\n//           <ListItemSecondaryAction>\r\n//             <IconButton onClick={() => props.editBill(bill.id)}>\r\n//               <Edit />\r\n//             </IconButton>\r\n//           </ListItemSecondaryAction>\r\n//         </ListItem>\r\n//       )\r\n//     }\r\n//   </List>\r\n// )\r\n\r\nconst BillsLists = props => (\r\n  <Table className={props.classes.list}>\r\n    <caption>{props.bills.length === 0 ? \"No bills receieved so far\" :\"All bills received today\"}</caption>\r\n    <TableHead>\r\n      <TableRow>{props.head.map((item, index) => <TableCell key={index}>{item}</TableCell>)}</TableRow>\r\n    </TableHead>\r\n    <TableBody>\r\n      {\r\n        props.bills.map((bill, index) => \r\n          <TableRow key={index} hover>\r\n            <TableCell>{bill.id}</TableCell>\r\n            <TableCell>{bill.amount}</TableCell>\r\n            <TableCell>{bill.time}</TableCell>\r\n            <TableCell>\r\n              <IconButton onClick={() => props.editBill(bill.id)}>\r\n                <Edit />\r\n              </IconButton>\r\n            </TableCell>\r\n          </TableRow>\r\n        )\r\n      }\r\n    </TableBody>\r\n  </Table>\r\n)\r\n\r\nconst SettingsSection = props => (\r\n  <Grid item xs={12} className={props.classes.settingsContainer}>\r\n    <div>\r\n      <span>Refresh</span>\r\n      <IconButton onClick={props.refreshRequest}>\r\n        <Refresh />\r\n      </IconButton>\r\n    </div>\r\n    <div>\r\n      <span>Auto refresh</span>\r\n      <Switch checked={props.autoRefresh} onChange={props.switchChange}/>\r\n    </div>\r\n  </Grid>\r\n)\r\n\r\nfunction PreviousBill(props) {\r\n  const classes = useStyles();\r\n  let [modal, setModal] = React.useState({\r\n    open:false,\r\n    bill: {},\r\n    deleteRequest: false\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    if(props.Bill.data.length < 1 || props.Settings.autoRefreshBills){\r\n      props.fetchBills()\r\n    }\r\n  }, [])\r\n\r\n  function editBill(id) {\r\n    props.fetchSpecific(id)\r\n    let bill = {}\r\n    for(let i = 0; i < props.Bill.data.length; i++){\r\n      if(props.Bill.data[i].id === id){\r\n        bill = props.Bill.data[i]\r\n        break;\r\n      }\r\n    }\r\n    setModal({\r\n      open:true,\r\n      bill,\r\n      deleteRequest: false\r\n    })\r\n    //console.log(\"Edit this bill\")\r\n  }\r\n\r\n  function successDelete(){\r\n    console.log(\"Successfully deleted\")\r\n    console.log(props);\r\n    props.emptyCart()\r\n    props.Bill.billItems.map(item => {\r\n      console.log(item)\r\n      props.addItem({\r\n        id: new Date().getTime(),\r\n        _id: item.item_id,\r\n        size: item.size,\r\n        price: item.price,\r\n        quantity: item.quantity,\r\n        name: item.dish_name\r\n      })\r\n      return null;\r\n    })\r\n    props.history.push(process.env.REACT_APP_BASE_URL+\"/cart\")\r\n  }\r\n  \r\n  function handleSubmit() {\r\n    //console.log(\"Bill is\", modal.bill)\r\n    //console.log(\"Items\", props.Bill.billItems)\r\n    if(!window.confirm(\"This will delete the current dish from Database. Also empty your cart and push this bill for modification\")){\r\n      return;\r\n    }\r\n    //push these items in cart\r\n    //console.log(cartItems)\r\n    props.deleteBill(modal.bill.id, successDelete)\r\n  }\r\n\r\n  let data = transformData(props.Bill.data)\r\n\r\n  return (\r\n    <Grid container className={classes.root}>\r\n      \r\n      <SettingsSection \r\n        autoRefresh={props.Settings.autoRefreshBills} \r\n        classes={classes}\r\n        refreshRequest={() => props.fetchBills()}\r\n        switchChange={() => props.flipBillAutoRefresh()}/>\r\n       \r\n      <Loading isLoading={props.Bill.isFetching}>\r\n        <BillsLists head={['Id', 'Price', 'Time', 'Action']} \r\n        bills={data} \r\n        classes={classes} \r\n        editBill={editBill}\r\n        />\r\n      </Loading>\r\n      {\r\n        modal.open && <ViewBillModal open={modal.open} \r\n        items={props.Bill.billItems} \r\n        bill={modal.bill}\r\n        handleClose={() => {setModal(false)}}\r\n        handleSubmit={handleSubmit}\r\n        loading={props.Bill.isFetchingSpecific}\r\n        deleteRequest={props.Bill.deleteRequest}/>\r\n      }\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  Bill: state.Bills,\r\n  Settings: state.Settings\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchBills: () => fetchBills(dispatch),\r\n  fetchSpecific: id => fetchSpecific(dispatch, id),\r\n  addItem: data => dispatch(addItem(data)),\r\n  emptyCart: () => dispatch(emptyCart()),\r\n  deleteBill: (id, callback) => deleteBill(dispatch, id, callback),\r\n  flipBillAutoRefresh: () => dispatch(flipBillAutoRefresh())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PreviousBill)","import React from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport Drawer from './Drawer'\r\nimport Auth from './Auth'\r\nimport ProtectedRoute from '../Enhancements/ProtectedRoute'\r\nimport Menu from './Menu'\r\nimport Cart from './Cart'\r\nimport Home from './Home'\r\nimport Bill from './Bill'\r\nimport PreviousBill from './PreviousBill'\r\n\r\nconst Layout = props => {\r\n  return (\r\n    <Drawer>\r\n      <Switch>\r\n        <Route path={process.env.REACT_APP_BASE_URL+\"/auth/:auth_action\"} component={Auth} />\r\n        <ProtectedRoute path={process.env.REACT_APP_BASE_URL+\"/menu\"} component={Menu} />\r\n        <ProtectedRoute path={process.env.REACT_APP_BASE_URL+\"/cart\"} component={Cart} />\r\n        <ProtectedRoute path={process.env.REACT_APP_BASE_URL+\"/bill\"} component={Bill} />\r\n        <ProtectedRoute path={process.env.REACT_APP_BASE_URL+\"/previous\"} component={PreviousBill} />\r\n        <ProtectedRoute path={process.env.REACT_APP_BASE_URL+\"/\"} component={Home} exact/>\r\n      </Switch>\r\n    </Drawer>\r\n  )\r\n}\r\n\r\nexport default Layout","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Provider } from 'react-redux'\r\nimport createStore from './Store'\r\nimport SnackBar from './Enhancements/SnackBar'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport Layout from './Layout';\r\n\r\nconst store = createStore()\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <Grid className=\"App\" container>\r\n          <CssBaseline />\r\n          <SnackBar />\r\n          <Layout/>\r\n        </Grid>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}