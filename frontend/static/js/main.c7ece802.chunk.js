(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a(186)},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),i=a.n(l),c=a(285),o=a(257),s=a(15),u=a(51),m=a(10),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Snackbar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SNACKBAR::SUCCESS":return Object(m.a)({},e,{open:!0,message:t.message,type:"success"});case"SNACKBAR::ERROR":return Object(m.a)({},e,{open:!0,message:t.message,type:"error"});case"SNACKBAR::WARNING":return Object(m.a)({},e,{open:!0,message:t.message,type:"warning"});case"SNACKBAR::INFO":return Object(m.a)({},e,{open:!0,message:t.message,type:"info"});case"SNACKBAR::CLOSE":return Object(m.a)({},e,{open:!1,message:""});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH::LOGIN":return Object(m.a)({},e,{error:"",isChecking:!0,username:t.data.username});case"AUTH::REGISTER":return Object(m.a)({isChecking:!0,username:t.data.username},e);case"AUTH::SUCCESS":return Object(m.a)({},e,{isChecking:!1,token:t.data.token,error:"",isLoggedIn:!0});case"AUTH::ERROR":return Object(m.a)({},e,{isLoggedIn:!1,isChecking:!1,token:""});default:return e}},p=a(84),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Cart,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART::ADD":return Object(m.a)({},e,{items:[].concat(Object(p.a)(e.items),[t.data])});case"CART::REMOVE":return Object(m.a)({},e,{items:e.items.filter(function(e){return e.id!==t.id})});case"CART::EMPTY":return Object(m.a)({},e,{items:[]});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Dish,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISH::REQUEST":return Object(m.a)({},e,{isFetching:!0,error:!1});case"DISH::SUCCESS":return Object(m.a)({},e,{isFetching:!1,error:!1,data:t.data});case"DISH::FAIL":return Object(m.a)({},e,{isFetching:!1,error:!0});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Bills,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BILLS::REQUEST":return Object(m.a)({},e,{isFetching:!0,error:!1});case"BILLS::SUCCESS":return Object(m.a)({},e,{isFetching:!1,error:!1,data:t.data});case"BILLS::FAIL":return Object(m.a)({},e,{isFetching:!1,error:!0});case"BILLS::REQUEST_FOUND_BILL":return Object(m.a)({},e,{isFetchingSpecific:!1,error:!1,billItems:t.data.items});case"BILLS::SUCCESS_FOUND_BILL":return Object(m.a)({},e,{isFetchingSpecific:!0,error:!1,billItems:[]});case"BILLS::FAIL_FOUND_BILL":return Object(m.a)({},e,{isFetchingSpecific:!1,error:!0,billItems:[]});case"BILLS::REQUEST_DELETE":return Object(m.a)({},e,{deleteRequest:!0,errorDeleting:!1});case"BILLS::SUCCESS_DELETE":return Object(m.a)({},e,{deleteRequest:!1,successDeleting:!0,errorDeleting:!1});case"BILLS::ERROR_DELETE":return Object(m.a)({},e,{deleteRequest:!1,successDeleting:!1,errorDeleting:!0});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.Settings;switch((arguments.length>1?arguments[1]:void 0).type){case"SETTINGS::FLIP_BILLS_REFRESH":return Object(m.a)({},e,{autoRefreshBills:!e.autoRefreshBills});case"SETTINGS::FLIP_RENDER_IMAGES":return Object(m.a)({},e,{renderImages:!e.renderImages});default:return e}},v={Snackbar:{open:!1,message:"This is default message",type:"success",duration:6e3},Auth:{isLoggedIn:!0,errorMessage:"",username:"",isChecking:!1,token:""},Cart:{items:[]},Dish:{data:[],isFetching:!1,error:!0},Bills:{isFetching:!1,error:!1,data:[],billItems:[],deleteRequest:!1,errorDeleting:!1},Settings:{autoRefreshBills:!1,renderImages:!1}},S=Object(u.c)({Snackbar:d,Auth:g,Cart:f,Dish:E,Bills:h,Settings:b}),y=function(e){var t=e.getState;return function(e){return function(a){var n=e(a);return localStorage.setItem("reduxState",JSON.stringify({Cart:t().Cart,Settings:t().Settings,Dish:t().Dish})),n}}},C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,O={};try{O=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{}}catch(tn){console.log("Unable to read store from localstorage",tn)}var w=function(){return Object(u.e)(S,O,C(Object(u.a)(y)))},I=a(242),k=a(187),j=a(293),L=a(244),R=a(240),N=a(241),B=a(118),x=a(234),T=a(237),D=a(238),A=a(239),_=function(e){return{type:"SNACKBAR::SUCCESS",message:e}},U=function(e){return{type:"SNACKBAR::ERROR",message:e}},F=function(e){return{type:"SNACKBAR::INFO",message:e}},P={success:r.a.createElement(x.a,null),warning:r.a.createElement(T.a,null),error:r.a.createElement(D.a,null),info:r.a.createElement(A.a,null)},W=Object(B.a)(function(e){return{success:{backgroundColor:R.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:N.a[700]},icon:{fontSize:20,marginRight:e.spacing(1)},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),z=function(e){var t=W(),a=e.variant;return r.a.createElement(I.a,{className:t[a],"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},P[a],e.message),action:[r.a.createElement(k.a,{key:"close","aria-label":"Close",color:"inherit",onClick:e.onClose},r.a.createElement(L.a,null))]})},q=Object(s.b)(function(e){return Object(m.a)({},e.Snackbar)},function(e){return{handleClose:function(){return e({type:"SNACKBAR::CLOSE"})}}})(function(e){return r.a.createElement(j.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e.open,autoHideDuration:e.duration,onClose:e.handleClose},r.a.createElement(z,{onClose:e.handleClose,variant:e.type,message:e.message}))}),M=a(25),G=a(52),H=a(14),Q=a(290),K=a(251),J=a(252),V=a(246),Y=a(45),X=a(254),$=a(188),Z=a(247),ee=a(249),te=a(96),ae=a.n(te),ne=a(248),re={isLoggedIn:function(){var e=JSON.parse(localStorage.getItem("auth"));return!(null===e||!e.isLoggedIn)},logUserIn:function(e){localStorage.setItem("auth",JSON.stringify(e)),window.location=""},logOut:function(){localStorage.removeItem("auth")},getToken:function(){var e=JSON.parse(localStorage.getItem("auth"));return null!==e&&e.isLoggedIn?e.token:""},getUsername:function(){var e=JSON.parse(localStorage.getItem("auth"));return null!==e&&e.isLoggedIn?e.username:""}},le=a(123),ie=a.n(le),ce=a(121),oe=a.n(ce),se=a(120),ue=a.n(se),me=a(65),de=a.n(me),ge=a(97),pe=a.n(ge),fe=a(124),Ee=a.n(fe),he=a(125),be=a.n(he),ve=a(250),Se=[{label:"Home",path:"",icon:ae.a},{label:"Menu",path:"/menu",icon:ue.a},{label:"Special",path:"/special",icon:oe.a},{label:"Bill",path:"/bill",icon:de.a},{label:"Previous Bills",path:"/previous",icon:pe.a}],ye=[{label:"Login",path:"/auth/login"},{label:"Register",path:"/auth/register"}],Ce=Object(B.a)(function(e){return{root:{display:"flex",width:"100%"},bottom:{position:"fixed",width:"100%",bottom:0},appBar:{width:window.innerWidth>1e3?"calc(100% - ".concat(240,"px)"):"100%",marginLeft:window.innerWidth>1e3?240:0},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},icon:{fill:"#fff"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},link:{color:"#000",textDecoration:"none"},contain:{width:"100%"},headerText:{flex:1}}});function Oe(e){var t=Object(n.useState)(e.activeIndex),a=Object(H.a)(t,2),l=a[0],i=a[1];return r.a.createElement(V.a,null,Se.map(function(t,a){return r.a.createElement(M.b,{key:t.label,to:t.path,className:e.classes.link,onClick:function(){return i(a)}},r.a.createElement($.a,{button:!0,selected:l===a,onClick:e.onClick},r.a.createElement(Z.a,null,r.a.createElement(ne.a,{component:t.icon})),r.a.createElement(ee.a,{primary:t.label})))}))}var we=Object(s.b)(function(e){return{Cart:e.Cart}},null)(function(e){return r.a.createElement(M.b,{to:"/cart"},r.a.createElement(k.a,null,r.a.createElement(ve.a,{color:"secondary",badgeContent:e.Cart.items.length},r.a.createElement(pe.a,{className:e.classes.icon}))))});function Ie(e){var t=Ce(),a=Object(n.useState)(!1),l=Object(H.a)(a,2),i=l[0],c=l[1];var o=0;return Se.forEach(function(e,t){0!==t&&-1!==window.location.href.indexOf(e.path)&&(o=t)}),r.a.createElement("div",{className:t.root},r.a.createElement(K.a,{position:"fixed",className:t.appBar},r.a.createElement(J.a,null,r.a.createElement(k.a,{onClick:function(){return c(!0)}},r.a.createElement(be.a,{className:t.icon})),r.a.createElement(Y.a,{variant:"h6",noWrap:!0,className:t.headerText},"Street 17"),r.a.createElement(we,{classes:t}))),r.a.createElement(Q.a,{open:i,className:t.drawer,variant:window.innerWidth>1e3?"permanent":"temporary",onClose:function(){return c(!1)},onOpen:function(){return c(!0)},classes:{paper:t.drawerPaper},anchor:"left"},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(X.a,null),r.a.createElement(Oe,{classes:t,activeIndex:o,onClick:function(){return c(!1)}}),r.a.createElement(X.a,null),r.a.createElement(V.a,null,re.isLoggedIn()?r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(ie.a,null)),r.a.createElement(ee.a,{primary:re.getUsername()})),r.a.createElement(M.b,{className:t.link,to:"/auth/logout"},r.a.createElement($.a,{button:!0,onClick:function(){return window.location.reload()}},r.a.createElement(Z.a,null,r.a.createElement(Ee.a,null)),r.a.createElement(ee.a,{primary:"Logout"})))):ye.map(function(e,a){return r.a.createElement(M.b,{key:e.label,to:e.path,className:t.link},r.a.createElement($.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(ae.a,null)),r.a.createElement(ee.a,{primary:e.label})))}))),r.a.createElement("div",{className:t.contain},r.a.createElement("div",{className:t.toolbar}),e.children,r.a.createElement("div",{className:t.toolbar})))}var ke=a(87),je=a(258),Le=a(294),Re=a(50),Ne=a(256),Be=a(255),xe=Object(B.a)(function(e){return{wrapper:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},buttonProgress:{position:"absolute"}}});function Te(e){var t=e.isLoading,a=e.children,n=Object(Re.a)(e,["isLoading","children"]),l=xe();return r.a.createElement("div",{className:l.wrapper},r.a.createElement(Be.a,Object.assign({},n,{disabled:t}),a),t&&r.a.createElement(Ne.a,{size:24,className:l.buttonProgress}))}var De=a(126),Ae=a.n(De),_e="http://street17cafe.in";function Ue(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"get",r={headers:Object(m.a)({Authorization:"Bearer "+re.getToken()},a),method:n.toLowerCase()};return"get"===r.method?r.params=t:r.data=t,Ae()("".concat(_e).concat(e),r)}function Fe(e){var t="Error occured";try{console.log(e.response.data),t=e.response.data.message||e.message,e.response.data.success||(t=e.response.data.errors.message)}catch(e){t="Some error has occured. Try again in sometime"}return"object"===typeof t&&(t="Unknow error occured"),t}var Pe="AUTH::",We=function(e){return{type:Pe+"LOGIN",data:e}},ze=function(e){return{type:Pe+"SUCCESS",data:e}},qe=function(e){return{type:Pe+"ERROR"}},Me=function(e){return{type:Pe+"REGISTER",data:e}},Ge=Object(B.a)(function(e){return{root:{padding:e.spacing(1)},paper:{padding:e.spacing(1),width:"100%","& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}});var He=Object(s.b)(function(e){return{Auth:e.Auth}},function(e){return{login:function(t){return function(e,t){e(We(t)),Ue("/api/auth/login",t,"","POST").then(function(a){if(console.log(a.data),!1===a.data.success)throw new Error({message:"Unable to login"});console.log("Data: ",a.data),re.logUserIn({username:t.username,token:a.data.data.token,isLoggedIn:!0}),e(_("Logged In")),e(ze(a.data)),console.log(a.data)}).catch(function(t){console.error(t),e(U(Fe(t))),e(qe())})}(e,t)}}})(function(e){var t=Object(n.useState)(""),a=Object(H.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),s=Object(H.a)(c,2),u=s[0],m=s[1],d=Ge();return r.a.createElement(o.a,{container:!0,className:d.root,justify:"center"},r.a.createElement(o.a,{item:!0},r.a.createElement(ke.a,{className:d.paper,component:"form",action:"/api/auth/login",method:"POST",onSubmit:function(t){t.preventDefault(),console.log("Submission of form"),e.login({username:l,password:u})}},r.a.createElement(Y.a,{variant:"h6",noWrap:!0},"Login"),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Le.a,{label:"Username",name:"username",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Le.a,{label:"Password",name:"password",type:"password",value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Te,{fullWidth:!0,isLoading:e.Auth.isChecking,type:"submit",variant:"contained",color:"primary"},"Log in")))))}),Qe=Object(B.a)(function(e){return{root:{padding:e.spacing(1)},paper:{padding:e.spacing(1),width:"100%","& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}});var Ke=Object(s.b)(null,function(e){return{register:function(t){return e(function(e){return function(e,t){e(Me(t)),Ue("/api/auth/register",t,"","POST").then(function(a){if(console.log(a.data),void 0===a.data.token)throw new Error({message:"Unable to register"});e(ze(a.data)),console.log("Data: ",a.data),re.logUserIn({username:t.username,token:a.data.token,isLoggedIn:!0}),e(_("Registartion successfull"))}).catch(function(e){console.error("Error: ",e.response),console.error("Error: ",e)})}(e,t)})}}})(function(e){var t=Object(n.useState)(""),a=Object(H.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),s=Object(H.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)(""),g=Object(H.a)(d,2),p=g[0],f=g[1],E=Qe();return r.a.createElement(o.a,{container:!0,className:E.root,justify:"center"},r.a.createElement(o.a,{item:!0},r.a.createElement(ke.a,{className:E.paper,component:"form",action:"/api/auth/login",method:"POST",onSubmit:function(t){t.preventDefault(),console.log("Submission of form"),e.register({username:l,password:u,location:p})}},r.a.createElement(Y.a,{variant:"h6",noWrap:!0},"Register"),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Le.a,{label:"Username",name:"username",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Le.a,{label:"Password",name:"password",type:"password",value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Le.a,{label:"Location",name:"location",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(je.a,{fullWidth:!0},r.a.createElement(Be.a,{type:"submit",variant:"contained",color:"primary"},"Register")))))}),Je=function(e){return console.log(e),re.logOut(),e.snackbarSuccess("Logged out sucesfully"),r.a.createElement(G.a,{to:"/auth/login"})};var Ve=Object(G.g)(Object(s.b)(null,function(e){return{snackbarSuccess:function(t){return e(_(t))}}})(function(e){return re.isLoggedIn()&&"logout"!==e.match.params.auth_action?r.a.createElement(G.a,{to:""}):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.b,{path:"/auth/login",component:He}),r.a.createElement(G.b,{path:"/auth/register",component:Ke}),r.a.createElement(G.b,{path:"/auth/logout",component:function(){return r.a.createElement(Je,{snackbarSuccess:e.snackbarSuccess})}}))})),Ye=function(e){var t=e.component,a=Object(Re.a)(e,["component"]),n=re.isLoggedIn();return r.a.createElement(G.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(G.a,{to:{pathname:"/auth/login",state:{from:e.location}}})}}))},Xe=a(75),$e=a(85),Ze=a(76),et=a(86),tt=function(e){if(console.log(e),void 0!==e){for(var t={},a=0;a<e.length;a++)void 0===t[e[a].category_id]&&(t[e[a].category_id]=[]),t[e[a].category_id].push(e[a]);var n=[];for(var r in t)n.push({heading:r,items:t[r]});return n}},at=function(){return{type:"DISH::REQUEST"}},nt=function(e){return{type:"DISH::SUCCESS",data:tt(e.data)}},rt=function(){return{type:"DISH::FAIL"}},lt=a(288),it=a(270),ct=a(286),ot=a(263),st=a(264),ut=a(267),mt=a(266),dt=a(265),gt=a(77),pt=a.n(gt),ft=Object(B.a)({media:{height:200},icon:{fontSize:16,marginRight:8}});function Et(e){var t=ft();return r.a.createElement(ot.a,{className:t.card},r.a.createElement(st.a,null,r.a.createElement(dt.a,{className:t.media,image:"http://street17cafe.in"+e.image,title:e.name,img:e.image}),r.a.createElement(mt.a,null,r.a.createElement(Y.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},e.name),r.a.createElement(Y.a,{variant:"body2",color:"textSecondary",component:"p"},e.description.length>100?e.description.substr(0,97)+"...":e.description))),r.a.createElement(ut.a,null,r.a.createElement(Be.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return e.addClick(e.id)}},r.a.createElement(pt.a,{className:t.icon})," Add")))}var ht=a(80),bt=a.n(ht),vt=a(78),St=a.n(vt),yt=a(269),Ct=a(292),Ot=a(268);function wt(e){var t=e.children,a=e.value,n=e.index,l=Object(Re.a)(e,["children","value","index"]);return r.a.createElement(Y.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},l),r.a.createElement(ct.a,{p:3},t))}var It=Object(B.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"calc(100vh - 64px)",width:"100%",flexDirection:window.innerWidth>500?"row":"column",padding:0},tabs:{borderRight:"1px solid ".concat(e.palette.divider),paddingTop:e.spacing(1),minWidth:200},container:{flexGrow:1,width:"100%",margin:0},panel:{width:"100%",overflow:"auto","&> div":{padding:window.innerWidth>500?24:8}},list:{width:"100%",boxShadow:e.shadows[1],backgroundColor:"#fff",borderRadius:8,position:"relative",overflow:"hidden"},switchContainer:{display:"flex",width:"100%",flexDirection:"row",backgroundColor:"#fff",alignItems:"center",paddingRight:16,justifyContent:"space-between"}}}),kt=function(e){var t=It();return r.a.createElement(o.a,{item:!0,xs:12,className:t.switchContainer},r.a.createElement("div",null,r.a.createElement("span",null,"Refresh"),r.a.createElement(k.a,{onClick:e.refreshMenu},r.a.createElement(St.a,null))),r.a.createElement("div",null,r.a.createElement("span",null,"Render Images"),r.a.createElement(Ct.a,{title:"Disable for slow network"},r.a.createElement(Ot.a,{onClick:e.onClick,checked:e.checked}))))};function jt(e){var t=It();return void 0===e.renderImages?null:e.renderImages?r.a.createElement(r.a.Fragment,null,e.dishes.map(function(t){return r.a.createElement(o.a,{item:!0,xs:12,sm:6,key:t.id},r.a.createElement(Et,{image:t.image,description:t.description,name:t.label,id:t.id,addClick:function(t){return e.addClick(t)},deleteClick:e.deleteClick}))})):r.a.createElement(V.a,{className:t.list},e.dishes.map(function(t){return r.a.createElement($.a,{button:!0,key:t.id},r.a.createElement(Z.a,null,r.a.createElement(bt.a,null)),r.a.createElement(ee.a,{primary:t.label,secondary:t.description.substr(0,64)+"..."}),r.a.createElement(yt.a,null,r.a.createElement(k.a,{onClick:function(a){return e.addClick(t.id)}},r.a.createElement(pt.a,null))))}))}var Lt=r.a.memo(function(e){var t=It(),a=r.a.useState(0),n=Object(H.a)(a,2),l=n[0],i=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(lt.a,{orientation:window.innerWidth<500?"horizontal":"vertical",variant:"scrollable",value:l,onChange:function(e,t){i(t)},"aria-label":"Vertical tabs Menu",className:t.tabs},e.data.map(function(e,t){return r.a.createElement(it.a,Object.assign({label:e.heading},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t),{key:t}))})),e.data.map(function(a,n){return r.a.createElement(wt,{value:l,index:n,key:n,className:t.panel},r.a.createElement(o.a,{container:!0,spacing:1,className:t.container},r.a.createElement(kt,{checked:e.renderImages,onClick:e.flipRender,refreshMenu:e.refreshMenu}),r.a.createElement(jt,{dishes:a.items,addClick:function(t){return e.addClick(n,t)},renderImages:e.renderImages})))}))}),Rt=a(261),Nt=a(296),Bt=a(271),xt=a(289),Tt=a(262),Dt=a(272),At=a(273),_t=a(274),Ut=a(275),Ft=a(276),Pt=function(e){return r.a.createElement(je.a,{component:"fieldset"},r.a.createElement(Rt.a,{component:"legend"},"Serving"),r.a.createElement(Nt.a,{"aria-label":"serving",name:"serving",value:e.value,onChange:e.sizeChange},e.item&&e.item.serving.map(function(e,t){var a="Regular";return"M"===e.size?a="Medium":"L"===e.size&&(a="Large"),r.a.createElement(Bt.a,{key:t,value:e.size,control:r.a.createElement(xt.a,{color:"primary"}),label:a+" Rs."+e.price,labelPlacement:"end"})})),r.a.createElement(Tt.a,null,"Select your serving"))};function Wt(e){var t=r.a.useState("R"),a=Object(H.a)(t,2),n=a[0],l=a[1],i=r.a.useState(1),c=Object(H.a)(i,2),s=c[0],u=c[1];if(!e.open)return r.a.createElement("div",null);return r.a.createElement(Dt.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(At.a,{id:"alert-dialog-title"},e.item.label),r.a.createElement(_t.a,null,r.a.createElement(Ut.a,{id:"alert-dialog-description"},e.item&&e.item.description),r.a.createElement(o.a,{container:!0},r.a.createElement(o.a,{item:!0,xs:6},r.a.createElement(Pt,Object.assign({},e,{sizeChange:function(e){return l(e.target.value)},value:n}))),r.a.createElement(o.a,{item:!0,xs:6},r.a.createElement(Le.a,{label:"Quantity",onChange:function(e){return u(e.target.value)},value:s})))),r.a.createElement(X.a,null),r.a.createElement(Ft.a,null,r.a.createElement(Be.a,{onClick:e.handleClose,color:"primary"},"Close"),r.a.createElement(Be.a,{onClick:function(t){e.handleSubmit({size:n,quantity:s})},color:"primary",variant:"contained"},"Submit")))}var zt=function(e){return{type:"CART::ADD",data:e}},qt=function(e){return{type:"CART::REMOVE",id:e}},Mt="SETTINGS::";function Gt(e){return r.a.createElement(r.a.Fragment,null,e.isLoading?r.a.createElement(Ne.a,null):e.children)}var Ht=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object($e.a)(this,(e=Object(Ze.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],modal:{open:!1,value:"R",quantity:1},renderImages:!1},a.componentDidMount=function(){a.props.Dish.data.length>0||a.props.fetchDishes()},a.addClick=function(e,t){var n={},r=a.props.Dish.data;console.log(e,t);for(var l=0;l<r[e].items.length;l++)if(r[e].items[l].id===t){n=r[e].items[l];break}a.setState(function(e){return{modal:Object(m.a)({},e.modal,{item:n,open:!0})}})},a.deleteClick=function(e){console.log(e),a.props.removeItem(e)},a.handleConfirmClose=function(){a.setState({modal:{open:!1,value:"R",quantity:1}})},a.handleConfirmationSubmit=function(e){var t=e.size,n=e.quantity,r=-1;a.state.modal.item.serving.forEach(function(e){e.size===t&&(r=e.price)});var l={id:(new Date).getTime(),_id:a.state.modal.item.id,size:t,quantity:n,name:a.state.modal.item.label,price:r};a.setState({modal:{open:!1,value:"R",quantity:1}}),a.props.addItem(l)},a.switchChange=function(e){a.setState(function(e){return{renderImages:!e.renderImages}})},a.render=function(){return console.log(a.state),r.a.createElement(o.a,{container:!0},r.a.createElement(o.a,{item:!0,xs:12,style:{minHeight:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Gt,{isLoading:a.props.Dish.isFetching},r.a.createElement(Lt,{data:a.props.Dish.data,addClick:a.addClick,deleteClick:a.deleteClick,renderImages:a.props.Settings.renderImages,flipRender:a.props.flipRenderImages,refreshMenu:function(){return a.props.fetchDishes()}}),a.state.modal.open&&r.a.createElement(Wt,Object.assign({handleClose:a.handleConfirmClose},a.state.modal,{handleQuantityChange:a.handleQuantityChange,onServingSizeChange:a.onServingSizeChange,handleSubmit:a.handleConfirmationSubmit})))))},a}return Object(et.a)(t,e),t}(r.a.Component),Qt=Object(G.g)(Object(s.b)(function(e){return{Dish:e.Dish,Settings:e.Settings}},function(e){return{snackbarSuccess:function(t){return e(_(t))},snackbarError:function(t){return e(U(t))},snackbarInfo:function(t){return e(F(t))},addItem:function(t){return e(zt(t))},removeItem:function(t){return e(qt(t))},fetchDishes:function(t){return function(e,t){e(at()),Ue("/api/dish","","","GET").then(function(t){e(nt(t.data))}).catch(function(t){console.log(t.response,t),e(U(Fe(t))),e(rt())})}(e)},flipRenderImages:function(){return e({type:Mt+"FLIP_RENDER_IMAGES"})}}})(Ht)),Kt=a(82),Jt=a.n(Kt),Vt=a(129),Yt=a.n(Vt),Xt=Object(B.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1]},container:{display:"flex",justifyContent:"center",padding:window.innerWidth>500?e.spacing(3):e.spacing(1)},buttonHolder:{flexDirection:"row-reverse",display:"flex",paddingRight:e.spacing(1),textDecoration:"none"}}}),$t=function(e){return"Price: "+e.price+" Quanity: "+e.quantity+" Size: "+e.size};var Zt=Object(s.b)(function(e){return{Cart:e.Cart}},function(e){return{removeItem:function(t){return e(qt(t))}}})(function(e){var t=Xt();return console.log(e.Cart),r.a.createElement("div",{className:t.container},r.a.createElement(V.a,{className:t.root},0===e.Cart.items.length?r.a.createElement($.a,null,"Cart is Empty Add Some Items"):e.Cart.items.map(function(t){var a="checkbox-list-secondary-label-".concat(t.id);return r.a.createElement($.a,{key:t.id,button:!0},r.a.createElement(Z.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(ee.a,{id:a,primary:t.name,secondary:$t(t)}),r.a.createElement(yt.a,null,r.a.createElement(k.a,{onClick:function(){window.confirm("Do you wish to remove?")&&e.removeItem(t.id)}},r.a.createElement(Yt.a,null))))}),r.a.createElement(M.b,{className:t.buttonHolder,to:"/bill"},r.a.createElement(Be.a,{variant:"contained",color:"primary"},"Generate Bill"))))}),ea=a(277),ta=a(130),aa=a.n(ta);function na(e){e(ra()),Ue("/api/bill/today","","","GET").then(function(t){if(!t.data.success)throw new Error("Error fetching results");e(la(t.data.data))}).catch(function(t){e(U(Fe(t))),e(ia())})}var ra=function(){return{type:"BILLS::REQUEST"}},la=function(e){return{type:"BILLS::SUCCESS",data:e}},ia=function(){return{type:"BILLS::FAIL"}};var ca=function(e){return{type:"BILLS::REQUEST_FOUND_BILL",data:e}},oa=function(){return{type:"BILLS::SUCCESS_FOUND_BILL"}},sa=function(){return{type:"BILLS::FAIL_FOUND_BILL"}};var ua=function(){return{type:"BILLS::REQUEST_DELETE"}},ma=function(){return{type:"BILLS::SUCCESS_DELETE"}},da=function(){return{type:"BILLS::ERROR_DELETE"}},ga=Object(B.a)(function(e){return{root:{width:"100%",margin:0,justifyContent:"center",minHeight:100,alignItems:"center"}}});var pa=function(e){return r.a.createElement(ke.a,{className:e.classes.paper},r.a.createElement(V.a,{subheader:r.a.createElement(ea.a,null,"Bills generated today")},r.a.createElement($.a,null,r.a.createElement(Z.a,null,r.a.createElement(aa.a,null)),r.a.createElement(ee.a,{primary:"Total orders placed",secondary:e.bill.count})),r.a.createElement($.a,null,r.a.createElement(Z.a,null,r.a.createElement(de.a,null)),r.a.createElement(ee.a,{primary:"Total amount",secondary:e.bill.amount})),r.a.createElement($.a,null,r.a.createElement(Z.a,null,r.a.createElement(de.a,null)),r.a.createElement(ee.a,{primary:"Total tax",secondary:e.bill.tax}))))},fa=function(e){return r.a.createElement(ke.a,null,r.a.createElement(V.a,{subheader:r.a.createElement(ea.a,null,"Items sold today")},e.items.map(function(e,t){return r.a.createElement($.a,{key:t,button:!0},r.a.createElement(Z.a,null,r.a.createElement(bt.a,null)),r.a.createElement(ee.a,{primary:e.category,secondary:e.count}))})))},Ea=[{category:"Beverage",count:23},{category:"Burgers",count:22},{category:"Pizza",count:12},{category:"Main course",count:32}];var ha=Object(s.b)(function(e){return{Bill:e.Bills}},function(e){return{fetchBills:function(){return na(e)}}})(function(e){var t=ga();Object(n.useEffect)(function(){0===e.Bill.data.length&&e.fetchBills()},[]);var a=function(e){for(var t={count:e.length,amount:0,tax:0,categories:Ea},a=0;a<e.length;a++)t.amount+=+e[a].amount,t.tax+=+e[a].tax;return t}(e.Bill.data);return r.a.createElement(o.a,{container:!0,spacing:2,className:t.root},r.a.createElement(Gt,{isLoading:e.Bill.isFetching},r.a.createElement(o.a,{item:!0,xs:12,md:6},r.a.createElement(pa,{bill:a,classes:t})),r.a.createElement(o.a,{item:!0,xs:12,md:6},r.a.createElement(fa,{items:a.categories}))))}),ba=a(283),va=a(284),Sa=a(278),ya=a(279),Ca=a(280),Oa=a(281),wa=function(e){return r.a.createElement(Sa.a,null,e.body.map(function(e,t){return r.a.createElement(ya.a,{key:t},r.a.createElement(Ca.a,null,t+1),r.a.createElement(Ca.a,null,e.name),r.a.createElement(Ca.a,{align:"right"},"\u20b9 ",e.price),r.a.createElement(Ca.a,{align:"right"},e.quantity),r.a.createElement(Ca.a,{align:"right"},"\u20b9 ",e.price*e.quantity))}))},Ia=function(e){return r.a.createElement(Oa.a,null,r.a.createElement(ya.a,null,e.head.map(function(t,a){return r.a.createElement(Ca.a,{key:a,className:e.classes.head,align:a>1?"right":"left"},t)})))},ka=function(e){return r.a.createElement(o.a,{container:!0,className:e.classes.row},r.a.createElement(o.a,{item:!0,xs:7},e.label),r.a.createElement(o.a,{item:!0,xs:5},"\u20b9 ",e.value))},ja=a(131),La=a.n(ja),Ra=a(287),Na=a(282);function Ba(e){var t=e.options,a=Object(Re.a)(e,["options"]);return r.a.createElement(Ra.a,a,t.map(function(e){return r.a.createElement(Na.a,{key:e.value,value:e.value},e.label)}))}var xa=a(132),Ta=a(64),Da=a(4),Aa=function(e){return r.a.createElement(Sa.a,null,e.body.map(function(e,t){return r.a.createElement(ya.a,{key:t},r.a.createElement(Ca.a,null,e.name),r.a.createElement(Ca.a,{align:"left"},e.quantity," * \u20b9",e.price),r.a.createElement(Ca.a,{align:"right"},"\u20b9 ",e.price*e.quantity))}))},_a=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(Ze.a)(t).apply(this,arguments))}return Object(et.a)(t,e),Object(xa.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.container},r.a.createElement(Y.a,{variant:"h4",className:e.heading},"Street 17 cafe"),r.a.createElement("p",{className:e.address},"Street 17 cafe, Azad chowk, Rustumpur, Gorakhpur, Uttar pradesh - 270001"),r.a.createElement("p",{className:e.billId},"Bill Id: ",this.props.id),r.a.createElement(X.a,null),r.a.createElement(ba.a,null,r.a.createElement(Ia,{head:["Item","Quantity","Price"],classes:this.props._classes}),r.a.createElement(Aa,{body:this.props.items||[]})),r.a.createElement(Pa,{rows:this.props.rows,classes:this.props._classes}),r.a.createElement(X.a,null),r.a.createElement(Y.a,{variant:"body1",className:e.bye},"***Thank you visit again***"),r.a.createElement("p",{className:e.time},(new Date).toLocaleDateString(),", ",(new Date).toLocaleTimeString()))}}]),t}(r.a.Component),Ua=Object(Da.a)(function(e){var t;return{heading:{fontWeight:"lighter",textTransform:"uppercase",wordSpacing:4,textAlign:"center",paddingTop:32},bye:{textAlign:"center",paddingTop:4},address:{textAlign:"center",padding:8},time:{textAlign:"right",padding:8,paddingBottom:32},billId:(t={textAlign:"center",fontSize:24},Object(Ta.a)(t,"textAlign","center"),Object(Ta.a)(t,"margin",0),t),container:{maxWidth:320,display:"flex",flexDirection:"column"}}})(_a),Fa=Object(B.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],position:"relative",overflow:"auto"},container:{flexGrow:1,width:"100%",margin:0},buttonHolder:{flexDirection:"row-reverse",display:"flex"},head:{fontWeight:400,textTransform:"uppercase"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),padding:e.spacing(2)},table:{width:"100%",overflow:"auto"}}});var Pa=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{variant:"h5",className:e.classes.row},"Amount"),e.rows.map(function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(ka,{label:t.label,value:t.value,classes:e.classes}),r.a.createElement(X.a,null))}))};function Wa(e){var t=r.a.useState([]),a=Object(H.a)(t,2),n=a[0],l=a[1];return r.a.useEffect(function(){Ue("/api/payment","","","GET").then(function(e){if(!e.data.success)throw new Error("Unable to fetch Payment");console.log(e.data);var t=[{value:-1,label:"Select a payment method"}].concat(Object(p.a)(e.data.data.message.map(function(e){return{value:e.id,label:e.label}})));l(t)}).catch(function(e){console.log(e.response)})},[]),r.a.createElement("div",null,r.a.createElement(Ba,{value:e.value,options:n,fullWidth:!0,onChange:e.onChange}))}var za=Object(G.g)(Object(s.b)(function(e){return{Cart:e.Cart}},function(e){return{emptyCart:function(){return e({type:"CART::EMPTY"})},snackbarSuccess:function(t){return e(_(t))},snackbarError:function(t){return e(U(t))},snackbarWarning:function(t){return e({type:"SNACKBAR::WARNING",message:t})}}})(function(e){var t=Object(n.useState)(-1),a=Object(H.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(H.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)(0),g=Object(H.a)(d,2),p=g[0],f=g[1],E=Object(n.useState)(0),h=Object(H.a)(E,2),b=h[0],v=h[1],S=Object(n.useState)(-1),y=Object(H.a)(S,2),C=y[0],O=y[1],w=Fa(),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0;return isNaN(t)&&(t=0),isNaN(a)&&(a=0),void 0===e||0===e.length?[]:(e.forEach(function(e){return n+=e.price*e.quantity}),console.log(Math.round(2*n*2.5)/100+t-Math.round(n*a)/100,n,t,Math.round(n*a)/100),[{label:"SubTotal",value:n},{label:"CGST 2.5%",value:Math.round(2.5*n)/100},{label:"SGST 2.5%",value:Math.round(2.5*n)/100},{label:"Donation",value:t},{label:"Discount",value:a+"%"},{label:"Total",value:Math.round(100*(n+2*n*.025+t-n*a/100))/100}])}(e.Cart.items,parseInt(p),parseInt(b)),k=r.a.useRef();return r.a.createElement(o.a,{container:!0,spacing:2,className:w.container},r.a.createElement(o.a,{item:!0,xs:12,sm:8},r.a.createElement("div",{className:w.root},r.a.createElement(ba.a,{className:w.table},r.a.createElement("caption",null,"Dishes selected for the order"),r.a.createElement(Ia,{head:["Sl no","Dish","Price","Quanity","Total"],classes:w}),r.a.createElement(wa,{body:e.Cart.items})),r.a.createElement("div",{className:w.row},r.a.createElement(Le.a,{label:"Wish to donate for a cause",type:"number",fullWidth:!0,value:p,autoFocus:!0,onChange:function(e){return f(e.target.value)},InputProps:{startAdornment:r.a.createElement(va.a,{position:"start"},"\u20b9")}})),r.a.createElement("div",{className:w.row},r.a.createElement(Le.a,{label:"Discount percentage",type:"number",fullWidth:!0,value:b,autoFocus:!0,onChange:function(e){return v(e.target.value)},InputProps:{startAdornment:r.a.createElement(va.a,{position:"start"},"%")}})),r.a.createElement("div",{className:w.row},r.a.createElement(Wa,{value:C,onChange:function(e){return O(e.target.value)}})))),r.a.createElement(o.a,{item:!0,sm:4,xs:12},r.a.createElement("div",{className:w.root},r.a.createElement(Pa,{classes:w,rows:I}),r.a.createElement("div",{className:w.row},r.a.createElement(Te,{isLoading:u,fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;isNaN(t)&&(t=0),isNaN(a)&&(a=0),-1!==C?(m(!0),Ue("/api/bill",{items:e,donation:t,discount:a,paymentId:C},"","POST").then(function(e){console.log(e.data,e.data.success),e.data.success&&(i(e.data.data.message.id),m(!1),document.querySelector("#print").click(),n.emptyCart(),n.snackbarSuccess("Bill submitted"),n.history.push("/menu")),console.log(e.data)}).catch(function(e){console.log(e.response),m(!1),n.snackbarError("Unable to save dish")})):n.snackbarWarning("Please select a payment method")}(e.Cart.items,p,b,e)}},"Print Bill"),r.a.createElement(La.a,{trigger:function(){return r.a.createElement("button",{id:"print",style:{display:"none"}})},content:function(){return k.current}})))),r.a.createElement("div",{style:{display:"none"}},r.a.createElement(Ua,{ref:k,rows:I,_classes:w,items:e.Cart.items,id:l})))})),qa=a(133),Ma=a.n(qa),Ga=Object(B.a)(function(e){return{row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),padding:e.spacing(2)},dishDetails:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100},list:{width:"100%"}}}),Ha=function(e){return r.a.createElement(o.a,{container:!0,className:e.classes.row},r.a.createElement(o.a,{item:!0,xs:7},e.label),r.a.createElement(o.a,{item:!0,xs:5},"\u20b9 ",e.value))},Qa=function(e){return r.a.createElement($.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(ee.a,{primary:e.data.dish_name,secondary:(t=e.data,"Price: "+t.price+" Quanity: "+t.quantity+" Size: "+t.size)}));var t};function Ka(e){var t=Ga();return e.open?r.a.createElement(Dt.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(At.a,{id:"alert-dialog-title"},"Bill id: ",e.bill.id),r.a.createElement(_t.a,null,r.a.createElement(Ut.a,{id:"alert-dialog-description"},"Ordered Items"),r.a.createElement(o.a,{container:!0},r.a.createElement(o.a,{item:!0,xs:12,sm:6,className:t.dishDetails},r.a.createElement(Gt,{isLoading:e.loading},r.a.createElement(V.a,{className:t.list},e.items.map(function(e,t){return r.a.createElement(Qa,{data:e,key:t})})))),r.a.createElement(o.a,{item:!0,xs:12,sm:6},r.a.createElement(Ha,{classes:t,label:"Amount",value:e.bill.amount}),r.a.createElement(Ha,{classes:t,label:"Tax",value:e.bill.tax}),r.a.createElement(Ha,{classes:t,label:"Total",value:+e.bill.amount+ +e.bill.tax})))),r.a.createElement(X.a,null),r.a.createElement(Ft.a,null,r.a.createElement(Be.a,{onClick:e.handleClose,color:"primary"},"Close"),r.a.createElement(Te,{isLoading:e.deleteRequest,onClick:e.handleSubmit,color:"primary",autoFocus:!0,variant:"contained"},"Push Items in Cart"))):null}var Ja=Object(B.a)(function(e){return{root:{display:"flex",minHeight:100,alignItems:"center",justifyContent:"center",padding:8},list:{position:"relative",borderRadius:4,overflow:"hidden",width:"100%",backgroundColor:"#fff",boxShadow:e.shadows[1]},settingsContainer:{display:"flex",justifyContent:"space-between",flexDirection:"row"}}});var Va=function(e){return r.a.createElement(ba.a,{className:e.classes.list},r.a.createElement("caption",null,0===e.bills.length?"No bills receieved so far":"All bills received today"),r.a.createElement(Oa.a,null,r.a.createElement(ya.a,null,e.head.map(function(e,t){return r.a.createElement(Ca.a,{key:t},e)}))),r.a.createElement(Sa.a,null,e.bills.map(function(t,a){return r.a.createElement(ya.a,{key:a,hover:!0},r.a.createElement(Ca.a,null,t.id),r.a.createElement(Ca.a,null,"\u20b9",t.amount),r.a.createElement(Ca.a,null,t.time),r.a.createElement(Ca.a,null,r.a.createElement(k.a,{onClick:function(){return e.editBill(t.id)}},r.a.createElement(Ma.a,null))))})))},Ya=function(e){return r.a.createElement(o.a,{item:!0,xs:12,className:e.classes.settingsContainer},r.a.createElement("div",null,r.a.createElement("span",null,"Refresh"),r.a.createElement(k.a,{onClick:e.refreshRequest},r.a.createElement(St.a,null))),r.a.createElement("div",null,r.a.createElement("span",null,"Auto refresh"),r.a.createElement(Ot.a,{checked:e.autoRefresh,onChange:e.switchChange})))};var Xa=Object(s.b)(function(e){return{Bill:e.Bills,Settings:e.Settings}},function(e){return{fetchBills:function(){return na(e)},fetchSpecific:function(t){return function(e,t){e(oa()),Ue("/api/bill/"+t,"","","GET").then(function(t){if(!t.data.success)throw new Error("Error fetching results");e(ca(t.data.data))}).catch(function(t){e(U(Fe(t))),e(sa())})}(e,t)},addItem:function(t){return e(zt(t))},emptyCart:function(){return e({type:"CART::EMPTY"})},deleteBill:function(t,a){return function(e,t,a){e(ua()),Ue("/api/bill/"+t,"","","DELETE").then(function(t){if(!t.data.success)throw new Error(t.data.errors.message);e(F("Dish pushed in cart")),e(ma()),a()}).catch(function(t){e(U(Fe(t))),e(da())})}(e,t,a)},flipBillAutoRefresh:function(){return e({type:Mt+"FLIP_BILLS_REFRESH"})}}})(function(e){var t=Ja(),a=r.a.useState({open:!1,bill:{},deleteRequest:!1}),n=Object(H.a)(a,2),l=n[0],i=n[1];function c(){console.log("Successfully deleted"),console.log(e),e.emptyCart(),e.Bill.billItems.map(function(t){return console.log(t),e.addItem({id:(new Date).getTime(),_id:t.item_id,size:t.size,price:t.price,quantity:t.quantity,name:t.dish_name}),null}),e.history.push("/cart")}r.a.useEffect(function(){(e.Bill.data.length<1||e.Settings.autoRefreshBills)&&e.fetchBills()},[]);var s=e.Bill.data.map(function(e){var t={id:e.id};t.amount=+e.amount+ +e.tax;var a=e.created_at.split(" ")[1].split(":"),n="AM",r=a[0];return+a[0]>12&&(r=+a[0]-12,n="PM"),t.time=r+":"+a[1]+" "+n,t});return r.a.createElement(o.a,{container:!0,className:t.root},r.a.createElement(Ya,{autoRefresh:e.Settings.autoRefreshBills,classes:t,refreshRequest:function(){return e.fetchBills()},switchChange:function(){return e.flipBillAutoRefresh()}}),r.a.createElement(Gt,{isLoading:e.Bill.isFetching},r.a.createElement(Va,{head:["Id","Price","Time","Action"],bills:s,classes:t,editBill:function(t){e.fetchSpecific(t);for(var a={},n=0;n<e.Bill.data.length;n++)if(e.Bill.data[n].id===t){a=e.Bill.data[n];break}i({open:!0,bill:a,deleteRequest:!1})}})),l.open&&r.a.createElement(Ka,{open:l.open,items:e.Bill.billItems,bill:l.bill,handleClose:function(){i(!1)},handleSubmit:function(){window.confirm("This will delete the current dish from Database. Also empty your cart and push this bill for modification")&&e.deleteBill(l.bill.id,c)},loading:e.Bill.isFetchingSpecific,deleteRequest:e.Bill.deleteRequest}))}),$a=function(e){return r.a.createElement(Ie,null,r.a.createElement(G.d,null,r.a.createElement(G.b,{path:"/auth/:auth_action",component:Ve}),r.a.createElement(Ye,{path:"/menu",component:Qt}),r.a.createElement(Ye,{path:"/cart",component:Zt}),r.a.createElement(Ye,{path:"/bill",component:za}),r.a.createElement(Ye,{path:"/previous",component:Xa}),r.a.createElement(Ye,{path:"/",component:ha,exact:!0})))},Za=w();var en=function(){return r.a.createElement(s.a,{store:Za},r.a.createElement(M.a,null,r.a.createElement(o.a,{className:"App",container:!0},r.a.createElement(c.a,null),r.a.createElement(q,null),r.a.createElement($a,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(en,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[151,1,2]]]);
//# sourceMappingURL=main.c7ece802.chunk.js.map